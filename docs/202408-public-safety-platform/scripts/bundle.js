!function (t) { var e = {}; function n(r) { if (e[r]) return e[r].exports; var i = e[r] = { i: r, l: !1, exports: {} }; return t[r].call(i.exports, i, i.exports, n), i.l = !0, i.exports } n.m = t, n.c = e, n.d = function (t, e, r) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: r }) }, n.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var r = Object.create(null); if (n.r(r), Object.defineProperty(r, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var i in t) n.d(r, i, function (e) { return t[e] }.bind(null, i)); return r }, n.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return n.d(e, "a", e), e }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, n.p = "", n(n.s = 86) }([function (t, e, n) { var r = n(33)("wks"), i = n(17), o = n(3).Symbol, s = "function" == typeof o; (t.exports = function (t) { return r[t] || (r[t] = s && o[t] || (s ? o : i)("Symbol." + t)) }).store = r }, function (t, e) { var n; n = function () { return this }(); try { n = n || new Function("return this")() } catch (t) { "object" == typeof window && (n = window) } t.exports = n }, function (t, e, n) { var r = n(15); t.exports = function (t) { if (!r(t)) throw TypeError(t + " is not an object!"); return t } }, function (t, e) { var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = n) }, function (t, e, n) { var r = n(5), i = n(20); t.exports = n(6) ? function (t, e, n) { return r.f(t, e, i(1, n)) } : function (t, e, n) { return t[e] = n, t } }, function (t, e, n) { var r = n(2), i = n(53), o = n(54), s = Object.defineProperty; e.f = n(6) ? Object.defineProperty : function (t, e, n) { if (r(t), e = o(e, !0), r(n), i) try { return s(t, e, n) } catch (t) { } if ("get" in n || "set" in n) throw TypeError("Accessors not supported!"); return "value" in n && (t[e] = n.value), t } }, function (t, e, n) { t.exports = !n(19)(function () { return 7 != Object.defineProperty({}, "a", { get: function () { return 7 } }).a }) }, function (t, e) { t.exports = {} }, function (t, e, n) { (function (e) { var n = "Expected a function", r = NaN, i = "[object Symbol]", o = /^\s+|\s+$/g, s = /^[-+]0x[0-9a-f]+$/i, a = /^0b[01]+$/i, c = /^0o[0-7]+$/i, l = parseInt, u = "object" == typeof e && e && e.Object === Object && e, f = "object" == typeof self && self && self.Object === Object && self, h = u || f || Function("return this")(), d = Object.prototype.toString, p = Math.max, v = Math.min, b = function () { return h.Date.now() }; function g(t) { var e = typeof t; return !!t && ("object" == e || "function" == e) } function m(t) { if ("number" == typeof t) return t; if (function (t) { return "symbol" == typeof t || function (t) { return !!t && "object" == typeof t }(t) && d.call(t) == i }(t)) return r; if (g(t)) { var e = "function" == typeof t.valueOf ? t.valueOf() : t; t = g(e) ? e + "" : e } if ("string" != typeof t) return 0 === t ? t : +t; t = t.replace(o, ""); var n = a.test(t); return n || c.test(t) ? l(t.slice(2), n ? 2 : 8) : s.test(t) ? r : +t } t.exports = function (t, e, r) { var i, o, s, a, c, l, u = 0, f = !1, h = !1, d = !0; if ("function" != typeof t) throw new TypeError(n); function y(e) { var n = i, r = o; return i = o = void 0, u = e, a = t.apply(r, n) } function x(t) { var n = t - l; return void 0 === l || n >= e || n < 0 || h && t - u >= s } function w() { var t = b(); if (x(t)) return _(t); c = setTimeout(w, function (t) { var n = e - (t - l); return h ? v(n, s - (t - u)) : n }(t)) } function _(t) { return c = void 0, d && i ? y(t) : (i = o = void 0, a) } function E() { var t = b(), n = x(t); if (i = arguments, o = this, l = t, n) { if (void 0 === c) return function (t) { return u = t, c = setTimeout(w, e), f ? y(t) : a }(l); if (h) return c = setTimeout(w, e), y(l) } return void 0 === c && (c = setTimeout(w, e)), a } return e = m(e) || 0, g(r) && (f = !!r.leading, s = (h = "maxWait" in r) ? p(m(r.maxWait) || 0, e) : s, d = "trailing" in r ? !!r.trailing : d), E.cancel = function () { void 0 !== c && clearTimeout(c), u = 0, i = l = o = c = void 0 }, E.flush = function () { return void 0 === c ? a : _(b()) }, E } }).call(this, n(1)) }, function (t, e) { t.exports = function (t) { if (null == t) throw TypeError("Can't call method on  " + t); return t } }, function (t, e, n) { var r = n(11), i = Math.min; t.exports = function (t) { return t > 0 ? i(r(t), 9007199254740991) : 0 } }, function (t, e) { var n = Math.ceil, r = Math.floor; t.exports = function (t) { return isNaN(t = +t) ? 0 : (t > 0 ? r : n)(t) } }, function (t, e) { var n = t.exports = { version: "2.6.3" }; "number" == typeof __e && (__e = n) }, function (t, e, n) { var r = n(3), i = n(4), o = n(14), s = n(17)("src"), a = Function.toString, c = ("" + a).split("toString"); n(12).inspectSource = function (t) { return a.call(t) }, (t.exports = function (t, e, n, a) { var l = "function" == typeof n; l && (o(n, "name") || i(n, "name", e)), t[e] !== n && (l && (o(n, s) || i(n, s, t[e] ? "" + t[e] : c.join(String(e)))), t === r ? t[e] = n : a ? t[e] ? t[e] = n : i(t, e, n) : (delete t[e], i(t, e, n))) })(Function.prototype, "toString", function () { return "function" == typeof this && this[s] || a.call(this) }) }, function (t, e) { var n = {}.hasOwnProperty; t.exports = function (t, e) { return n.call(t, e) } }, function (t, e) { t.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, function (t, e, n) { var r = n(9); t.exports = function (t) { return Object(r(t)) } }, function (t, e) { var n = 0, r = Math.random(); t.exports = function (t) { return "Symbol(".concat(void 0 === t ? "" : t, ")_", (++n + r).toString(36)) } }, function (t, e, n) { var r = n(3), i = n(12), o = n(4), s = n(13), a = n(38), c = function (t, e, n) { var l, u, f, h, d = t & c.F, p = t & c.G, v = t & c.S, b = t & c.P, g = t & c.B, m = p ? r : v ? r[e] || (r[e] = {}) : (r[e] || {}).prototype, y = p ? i : i[e] || (i[e] = {}), x = y.prototype || (y.prototype = {}); for (l in p && (n = e), n) f = ((u = !d && m && void 0 !== m[l]) ? m : n)[l], h = g && u ? a(f, r) : b && "function" == typeof f ? a(Function.call, f) : f, m && s(m, l, f, t & c.U), y[l] != f && o(y, l, h), b && x[l] != f && (x[l] = f) }; r.core = i, c.F = 1, c.G = 2, c.S = 4, c.P = 8, c.B = 16, c.W = 32, c.U = 64, c.R = 128, t.exports = c }, function (t, e) { t.exports = function (t) { try { return !!t() } catch (t) { return !0 } } }, function (t, e) { t.exports = function (t, e) { return { enumerable: !(1 & t), configurable: !(2 & t), writable: !(4 & t), value: e } } }, function (t, e, n) { var r = n(62), i = n(9); t.exports = function (t) { return r(i(t)) } }, function (t, e, n) { var r = n(33)("keys"), i = n(17); t.exports = function (t) { return r[t] || (r[t] = i(t)) } }, function (t, e, n) { "use strict"; var r, i; void 0 === (i = "function" == typeof (r = function () { return function (t) { function e() { p = !1; var t = function () { if (u && "number" == typeof u) { var t = Math.min(Math.max(0, u), 1); return b - t * b } return b }(); (v = v.filter(function (e) { var n = e.getBoundingClientRect(), r = n.top, i = r < t; if (i && !e.__enter_view) { if (a(e), h) return !1 } else !i && e.__enter_view && c && c(e); return e.__enter_view = i, !0 })).length || window.removeEventListener("scroll", n, !0) } function n() { p || (p = !0, d(e)) } function r() { var t, n; t = document.documentElement.clientHeight, n = window.innerHeight || 0, b = Math.max(t, n), e() } function i(t) { for (var e = t.length, n = [], r = 0; r < e; r += 1)n.push(t[r]); return n } function o() { v = function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : document; return "string" == typeof t ? i(e.querySelectorAll(t)) : t instanceof NodeList ? i(t) : t instanceof Array ? t : void 0 }(s) } var s = t.selector, a = t.enter, c = t.exit, l = t.offset, u = void 0 === l ? 0 : l, f = t.once, h = void 0 !== f && f, d = null, p = !1, v = [], b = 0; s && a || console.error("must set selector and enter options"), d = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { return setTimeout(t, 1e3 / 60) }, o(), window.addEventListener("resize", r, !0), window.addEventListener("scroll", n, !0), r(), e() } }) ? r.call(e, n, e, t) : r) || (t.exports = i) }, function (t, e, n) { var r, i, o;/*! scrollbarWidth.js v0.1.3 | felixexter | MIT | https://github.com/felixexter/scrollbarWidth */i = [], void 0 === (o = "function" == typeof (r = function () { "use strict"; return function () { if ("undefined" == typeof document) return 0; var t, e = document.body, n = document.createElement("div"), r = n.style; return r.position = "absolute", r.top = r.left = "-9999px", r.width = r.height = "100px", r.overflow = "scroll", e.appendChild(n), t = n.offsetWidth - n.clientWidth, e.removeChild(n), t } }) ? r.apply(e, i) : r) || (t.exports = o) }, function (t, e, n) { (function (e) { var n = "Expected a function", r = NaN, i = "[object Symbol]", o = /^\s+|\s+$/g, s = /^[-+]0x[0-9a-f]+$/i, a = /^0b[01]+$/i, c = /^0o[0-7]+$/i, l = parseInt, u = "object" == typeof e && e && e.Object === Object && e, f = "object" == typeof self && self && self.Object === Object && self, h = u || f || Function("return this")(), d = Object.prototype.toString, p = Math.max, v = Math.min, b = function () { return h.Date.now() }; function g(t, e, r) { var i, o, s, a, c, l, u = 0, f = !1, h = !1, d = !0; if ("function" != typeof t) throw new TypeError(n); function g(e) { var n = i, r = o; return i = o = void 0, u = e, a = t.apply(r, n) } function x(t) { var n = t - l; return void 0 === l || n >= e || n < 0 || h && t - u >= s } function w() { var t = b(); if (x(t)) return _(t); c = setTimeout(w, function (t) { var n = e - (t - l); return h ? v(n, s - (t - u)) : n }(t)) } function _(t) { return c = void 0, d && i ? g(t) : (i = o = void 0, a) } function E() { var t = b(), n = x(t); if (i = arguments, o = this, l = t, n) { if (void 0 === c) return function (t) { return u = t, c = setTimeout(w, e), f ? g(t) : a }(l); if (h) return c = setTimeout(w, e), g(l) } return void 0 === c && (c = setTimeout(w, e)), a } return e = y(e) || 0, m(r) && (f = !!r.leading, s = (h = "maxWait" in r) ? p(y(r.maxWait) || 0, e) : s, d = "trailing" in r ? !!r.trailing : d), E.cancel = function () { void 0 !== c && clearTimeout(c), u = 0, i = l = o = c = void 0 }, E.flush = function () { return void 0 === c ? a : _(b()) }, E } function m(t) { var e = typeof t; return !!t && ("object" == e || "function" == e) } function y(t) { if ("number" == typeof t) return t; if (function (t) { return "symbol" == typeof t || function (t) { return !!t && "object" == typeof t }(t) && d.call(t) == i }(t)) return r; if (m(t)) { var e = "function" == typeof t.valueOf ? t.valueOf() : t; t = m(e) ? e + "" : e } if ("string" != typeof t) return 0 === t ? t : +t; t = t.replace(o, ""); var n = a.test(t); return n || c.test(t) ? l(t.slice(2), n ? 2 : 8) : s.test(t) ? r : +t } t.exports = function (t, e, r) { var i = !0, o = !0; if ("function" != typeof t) throw new TypeError(n); return m(r) && (i = "leading" in r ? !!r.leading : i, o = "trailing" in r ? !!r.trailing : o), g(t, e, { leading: i, maxWait: e, trailing: o }) } }).call(this, n(1)) }, function (t, e) { var n = !("undefined" == typeof window || !window.document || !window.document.createElement); t.exports = n }, , function (t, e, n) { "use strict"; var r = n(29)(!0); t.exports = function (t, e, n) { return e + (n ? r(t, e).length : 1) } }, function (t, e, n) { var r = n(11), i = n(9); t.exports = function (t) { return function (e, n) { var o, s, a = String(i(e)), c = r(n), l = a.length; return c < 0 || c >= l ? t ? "" : void 0 : (o = a.charCodeAt(c)) < 55296 || o > 56319 || c + 1 === l || (s = a.charCodeAt(c + 1)) < 56320 || s > 57343 ? t ? a.charAt(c) : o : t ? a.slice(c, c + 2) : s - 56320 + (o - 55296 << 10) + 65536 } } }, function (t, e, n) { "use strict"; var r = n(31), i = RegExp.prototype.exec; t.exports = function (t, e) { var n = t.exec; if ("function" == typeof n) { var o = n.call(t, e); if ("object" != typeof o) throw new TypeError("RegExp exec method returned something other than an Object or null"); return o } if ("RegExp" !== r(t)) throw new TypeError("RegExp#exec called on incompatible receiver"); return i.call(t, e) } }, function (t, e, n) { var r = n(32), i = n(0)("toStringTag"), o = "Arguments" == r(function () { return arguments }()); t.exports = function (t) { var e, n, s; return void 0 === t ? "Undefined" : null === t ? "Null" : "string" == typeof (n = function (t, e) { try { return t[e] } catch (t) { } }(e = Object(t), i)) ? n : o ? r(e) : "Object" == (s = r(e)) && "function" == typeof e.callee ? "Arguments" : s } }, function (t, e) { var n = {}.toString; t.exports = function (t) { return n.call(t).slice(8, -1) } }, function (t, e, n) { var r = n(12), i = n(3), o = i["__core-js_shared__"] || (i["__core-js_shared__"] = {}); (t.exports = function (t, e) { return o[t] || (o[t] = void 0 !== e ? e : {}) })("versions", []).push({ version: r.version, mode: n(34) ? "pure" : "global", copyright: "Â© 2019 Denis Pushkarev (zloirock.ru)" }) }, function (t, e) { t.exports = !1 }, function (t, e, n) { "use strict"; n(51); var r = n(13), i = n(4), o = n(19), s = n(9), a = n(0), c = n(36), l = a("species"), u = !o(function () { var t = /./; return t.exec = function () { var t = []; return t.groups = { a: "7" }, t }, "7" !== "".replace(t, "$<a>") }), f = function () { var t = /(?:)/, e = t.exec; t.exec = function () { return e.apply(this, arguments) }; var n = "ab".split(t); return 2 === n.length && "a" === n[0] && "b" === n[1] }(); t.exports = function (t, e, n) { var h = a(t), d = !o(function () { var e = {}; return e[h] = function () { return 7 }, 7 != ""[t](e) }), p = d ? !o(function () { var e = !1, n = /a/; return n.exec = function () { return e = !0, null }, "split" === t && (n.constructor = {}, n.constructor[l] = function () { return n }), n[h](""), !e }) : void 0; if (!d || !p || "replace" === t && !u || "split" === t && !f) { var v = /./[h], b = n(s, h, ""[t], function (t, e, n, r, i) { return e.exec === c ? d && !i ? { done: !0, value: v.call(e, n, r) } : { done: !0, value: t.call(n, e, r) } : { done: !1 } }), g = b[0], m = b[1]; r(String.prototype, t, g), i(RegExp.prototype, h, 2 == e ? function (t, e) { return m.call(t, this, e) } : function (t) { return m.call(t, this) }) } } }, function (t, e, n) { "use strict"; var r, i, o = n(52), s = RegExp.prototype.exec, a = String.prototype.replace, c = s, l = (r = /a/, i = /b*/g, s.call(r, "a"), s.call(i, "a"), 0 !== r.lastIndex || 0 !== i.lastIndex), u = void 0 !== /()??/.exec("")[1]; (l || u) && (c = function (t) { var e, n, r, i, c = this; return u && (n = new RegExp("^" + c.source + "$(?!\\s)", o.call(c))), l && (e = c.lastIndex), r = s.call(c, t), l && r && (c.lastIndex = c.global ? r.index + r[0].length : e), u && r && r.length > 1 && a.call(r[0], n, function () { for (i = 1; i < arguments.length - 2; i++)void 0 === arguments[i] && (r[i] = void 0) }), r }), t.exports = c }, function (t, e, n) { var r = n(15), i = n(3).document, o = r(i) && r(i.createElement); t.exports = function (t) { return o ? i.createElement(t) : {} } }, function (t, e, n) { var r = n(55); t.exports = function (t, e, n) { if (r(t), void 0 === e) return t; switch (n) { case 1: return function (n) { return t.call(e, n) }; case 2: return function (n, r) { return t.call(e, n, r) }; case 3: return function (n, r, i) { return t.call(e, n, r, i) } }return function () { return t.apply(e, arguments) } } }, function (t, e, n) { "use strict"; var r = n(34), i = n(18), o = n(13), s = n(4), a = n(7), c = n(63), l = n(42), u = n(70), f = n(0)("iterator"), h = !([].keys && "next" in [].keys()), d = function () { return this }; t.exports = function (t, e, n, p, v, b, g) { c(n, e, p); var m, y, x, w = function (t) { if (!h && t in k) return k[t]; switch (t) { case "keys": case "values": return function () { return new n(this, t) } }return function () { return new n(this, t) } }, _ = e + " Iterator", E = "values" == v, O = !1, k = t.prototype, S = k[f] || k["@@iterator"] || v && k[v], A = S || w(v), M = v ? E ? w("entries") : A : void 0, L = "Array" == e && k.entries || S; if (L && (x = u(L.call(new t))) !== Object.prototype && x.next && (l(x, _, !0), r || "function" == typeof x[f] || s(x, f, d)), E && S && "values" !== S.name && (O = !0, A = function () { return S.call(this) }), r && !g || !h && !O && k[f] || s(k, f, A), a[e] = A, a[_] = d, v) if (m = { values: E ? A : w("values"), keys: b ? A : w("keys"), entries: M }, g) for (y in m) y in k || o(k, y, m[y]); else i(i.P + i.F * (h || O), e, m); return m } }, function (t, e, n) { var r = n(66), i = n(41); t.exports = Object.keys || function (t) { return r(t, i) } }, function (t, e) { t.exports = "constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",") }, function (t, e, n) { var r = n(5).f, i = n(14), o = n(0)("toStringTag"); t.exports = function (t, e, n) { t && !i(t = n ? t : t.prototype, o) && r(t, o, { configurable: !0, value: e }) } }, function (t, e, n) { t.exports = function () { "use strict"; function t(t) { for (var e = t.length, n = [], r = 0; r < e; r += 1)n.push(t[r]); return n } function e(t) { return t instanceof Element ? t : "string" == typeof t ? document.querySelector(t) : null } function n(t) { var e = t.id; return "scrollama__debug-offset--" + e } function r(t) { var e = t.id, r = t.offsetVal, i = t.stepEl, o = i[0].getAttribute("class"); !function (t) { var e = t.id, r = t.offsetVal, i = t.stepClass, o = document.createElement("div"); o.setAttribute("id", n({ id: e })), o.setAttribute("class", "scrollama__debug-offset"), o.style.position = "fixed", o.style.left = "0", o.style.width = "100%", o.style.height = "0px", o.style.borderTop = "2px dashed black", o.style.zIndex = "9999"; var s = document.createElement("p"); s.innerText = '".' + i + '" trigger: ' + r, s.style.fontSize = "12px", s.style.fontFamily = "monospace", s.style.color = "black", s.style.margin = "0", s.style.padding = "6px", o.appendChild(s), document.body.appendChild(o) }({ id: e, offsetVal: r, stepClass: o }) } function i(t) { var e = t.id, r = (t.stepOffsetHeight, t.offsetMargin); t.offsetVal, function (t) { var e = t.id, r = t.offsetMargin, i = (t.offsetVal, n({ id: e })); document.querySelector("#" + i).style.top = r + "px" }({ id: e, offsetMargin: r }) } function o(t) { var e = t.id, n = t.index, r = t.state, i = function (t) { var e = t.id, n = t.i; return "scrollama__debug-step--" + e + "-" + n }({ id: e, i: n }), o = document.querySelector("#" + i + "_above"), s = document.querySelector("#" + i + "_below"), a = "enter" === r ? "block" : "none"; o && (o.style.display = a), s && (s.style.display = a) } return function () { var n = 1, s = {}, a = {}, c = null, l = null, u = null, f = null, h = 0, d = 0, p = 0, v = 0, b = null, g = null, m = null, y = !1, x = !1, w = !1, _ = !1, E = 0, O = !1, k = !1, S = null, A = null, M = -1, L = null, T = []; function R(t) { var e = 0; if (t.offsetParent) do { e += t.offsetTop, t = t.offsetParent } while (t); return e < 0 ? 0 : e } function I(t) { return +t.getAttribute("data-scrollama-index") } function j() { window.pageYOffset > M ? L = "down" : window.pageYOffset < M && (L = "up"), M = window.pageYOffset } function C() { var t, e; p = window.innerHeight, t = document.body, e = document.documentElement, v = Math.max(t.scrollHeight, t.offsetHeight, e.clientHeight, e.scrollHeight, e.offsetHeight), m = l ? l.getBoundingClientRect() : null, d = h * p, b = u ? u.map(function (t) { return t.offsetHeight }) : [], g = u ? u.map(R) : [], x && y && K(), w && i({ id: f, stepOffsetHeight: b, offsetMargin: d, offsetVal: h }) } function N(t) { t && !x ? (y && K(), x = !0) : t || (a.top && a.top.disconnect(), a.bottom && a.bottom.disconnect(), a.stepAbove && a.stepAbove.forEach(function (t) { return t.disconnect() }), a.stepBelow && a.stepBelow.forEach(function (t) { return t.disconnect() }), a.stepProgress && a.stepProgress.forEach(function (t) { return t.disconnect() }), a.viewportAbove && a.viewportAbove.forEach(function (t) { return t.disconnect() }), a.viewportBelow && a.viewportBelow.forEach(function (t) { return t.disconnect() }), x = !1) } function P(t, e) { if ("above" === e) for (var n = 0; n < t; n++) { var r = S[n]; "enter" === r.state && W(u[n], "down"), "up" === r.direction && (z(u[n], "down", !1), W(u[n], "down")) } else if ("below" === e) for (var i = S.length - 1; i > t; i--) { var o = S[i]; "enter" === o.state && W(u[i], "up"), "down" === o.direction && (z(u[i], "up", !1), W(u[i], "up")) } } function z(t, e, n) { void 0 === n && (n = !0); var r = I(t), i = { element: t, index: r, direction: e }; S[r].direction = e, S[r].state = "enter", O && n && "down" === e && P(r, "above"), O && n && "up" === e && P(r, "below"), s.stepEnter && "function" == typeof s.stepEnter && !T[r] && (s.stepEnter(i, S), w && o({ id: f, index: r, state: "enter" }), k && (T[r] = !0)), _ && B(t, "down" === e ? 0 : 1) } function W(t, e) { var n = I(t), r = { element: t, index: n, direction: e }; S[n].direction = e, S[n].state = "exit", _ && B(t, "down" === e ? 1 : 0), s.stepExit && "function" == typeof s.stepExit && (s.stepExit(r, S), w && o({ id: f, index: n, state: "exit" })) } function B(t, e) { var n = I(t), r = { element: t, index: n, progress: e }; s.stepProgress && "function" == typeof s.stepProgress && s.stepProgress(r) } function D() { var t = { direction: L }; A.direction = L, A.state = "enter", s.containerEnter && "function" == typeof s.containerEnter && s.containerEnter(t) } function V() { var t = { direction: L }; A.direction = L, A.state = "exit", s.containerExit && "function" == typeof s.containerExit && s.containerExit(t) } function F(t) { j(), t.forEach(function (t) { var e = t.isIntersecting, r = t.boundingClientRect, i = t.target, o = r.bottom, s = r.height, a = o - d, c = I(i), l = S[c]; a >= -n && (e && "down" === L && "enter" !== l.state ? z(i, L) : e || "up" !== L || "enter" !== l.state ? !e && a >= s && "down" === L && "enter" === l.state && W(i, L) : W(i, L)) }) } function H(t) { j(), t.forEach(function (t) { var e = t.isIntersecting, r = t.boundingClientRect, i = t.target, o = r.bottom, s = r.height, a = o - d, c = I(i), l = S[c]; a >= -n && a < s && e && "up" === L && "enter" !== l.state ? z(i, L) : a <= n && !e && "down" === L && "enter" === l.state && W(i, L) }) } function q(t) { j(), t.forEach(function (t) { var e = t.isIntersecting, n = t.target, r = I(n), i = S[r]; e && "down" === L && "enter" !== i.state && "down" !== i.direction && (z(n, "down"), W(n, "down")) }) } function $(t) { j(), t.forEach(function (t) { var e = t.isIntersecting, n = t.target, r = I(n), i = S[r]; e && "up" === L && "enter" !== i.state && "up" !== i.direction && (z(n, "up"), W(n, "up")) }) } function Y(t) { j(), t.forEach(function (t) { var e = t.isIntersecting, r = t.intersectionRatio, i = t.boundingClientRect, o = t.target, s = i.bottom, a = s - d; e && a >= -n && B(o, +r.toFixed(3)) }) } function G(t) { j(); var e = t[0], r = e.isIntersecting, i = e.boundingClientRect, o = (i.top, i.bottom); o > -n && (r ? D() : "enter" === A.state && V()) } function X(t) { j(); var e = t[0], r = e.isIntersecting, i = e.boundingClientRect, o = i.top; o < n && (r ? D() : "enter" === A.state && V()) } function U() { a.stepProgress && a.stepProgress.forEach(function (t) { return t.disconnect() }), a.stepProgress = u.map(function (t, e) { var n = b[e] - d, r = -p + d, i = n + "px 0px " + r + "px 0px", o = function (t) { for (var e = Math.ceil(t / E), n = [], r = 1 / e, i = 0; i < e; i++)n.push(i * r); return n }(b[e]), s = { root: null, rootMargin: i, threshold: o }, a = new IntersectionObserver(Y, s); return a.observe(t), a }) } function K() { a.viewportAbove && a.viewportAbove.forEach(function (t) { return t.disconnect() }), a.viewportAbove = u.map(function (t, e) { var n = g[e], r = -(p - d + b[e]), i = n + "px 0px " + r + "px 0px", o = { root: null, rootMargin: i, threshold: 0 }, s = new IntersectionObserver(q, o); return s.observe(t), s }), a.viewportBelow && a.viewportBelow.forEach(function (t) { return t.disconnect() }), a.viewportBelow = u.map(function (t, e) { var n = -(d + b[e]), r = v - g[e] - b[e] - d, i = n + "px 0px " + r + "px 0px", o = { root: null, rootMargin: i, threshold: 0 }, s = new IntersectionObserver($, o); return s.observe(t), s }), a.stepAbove && a.stepAbove.forEach(function (t) { return t.disconnect() }), a.stepAbove = u.map(function (t, e) { var n = b[e], r = -p + d, i = n + "px 0px " + r + "px 0px", o = { root: null, rootMargin: i, threshold: 0 }, s = new IntersectionObserver(F, o); return s.observe(t), s }), a.stepBelow && a.stepBelow.forEach(function (t) { return t.disconnect() }), a.stepBelow = u.map(function (t, e) { var n = -d, r = v - p + b[e] + d, i = n + "px 0px " + r + "px 0px", o = { root: null, rootMargin: i, threshold: 0 }, s = new IntersectionObserver(H, o); return s.observe(t), s }), _ && U(), c && l && (function () { a.top && a.top.unobserve(c); var t = { root: null, rootMargin: p + "px 0px -" + p + "px 0px", threshold: 0 }; a.top = new IntersectionObserver(G, t), a.top.observe(c) }(), function () { a.bottom && a.bottom.unobserve(c); var t = { root: null, rootMargin: "-" + m.height + "px 0px " + m.height + "px 0px", threshold: 0 }; a.bottom = new IntersectionObserver(X, t), a.bottom.observe(c) }()) } var J = {}; return J.setup = function (n) { var i = n.container, o = n.graphic, s = n.step, a = n.offset; void 0 === a && (a = .5); var d = n.progress; void 0 === d && (d = !1); var p = n.threshold; void 0 === p && (p = 4); var v = n.debug; void 0 === v && (v = !1); var b = n.order; void 0 === b && (b = !0); var g, m, x, M, L, T = n.once; return void 0 === T && (T = !1), m = (g = "abcdefghijklmnopqrstuv").length, x = (new Date).getTime(), f = "" + [0, 0, 0].map(function (t) { return g[Math.floor(Math.random() * m)] }).join("") + x, M = s, void 0 === L && (L = document), u = "string" == typeof M ? t(L.querySelectorAll(M)) : M instanceof Element ? t([M]) : M instanceof NodeList ? t(M) : M instanceof Array ? M : [], c = i ? e(i) : null, l = o ? e(o) : null, u.length ? (w = v, _ = d, O = b, k = T, J.offsetTrigger(a), E = Math.max(1, +p), y = !0, w && r({ id: f, stepEl: u, offsetVal: h }), u.forEach(function (t, e) { return t.setAttribute("data-scrollama-index", e) }), S = u.map(function () { return { direction: null, state: null } }), A = { direction: null, state: null }, C(), N(!0), J) : (console.error("scrollama error: no step elements"), J) }, J.resize = function () { return C(), J }, J.enable = function () { return N(!0), J }, J.disable = function () { return N(!1), J }, J.destroy = function () { N(!1), Object.keys(s).forEach(function (t) { return s[t] = null }), Object.keys(a).forEach(function (t) { return a[t] = null }) }, J.offsetTrigger = function (t) { return t && !isNaN(t) ? (h = Math.min(Math.max(0, t), 1), J) : h }, J.onStepEnter = function (t) { return s.stepEnter = t, J }, J.onStepExit = function (t) { return s.stepExit = t, J }, J.onStepProgress = function (t) { return s.stepProgress = t, J }, J.onContainerEnter = function (t) { return s.containerEnter = t, J }, J.onContainerExit = function (t) { return s.containerExit = t, J }, J } }() }, function (t, e, n) { (function (e) { var n = "Expected a function", r = "__lodash_hash_undefined__", i = "[object Function]", o = "[object GeneratorFunction]", s = /^\[object .+?Constructor\]$/, a = "object" == typeof e && e && e.Object === Object && e, c = "object" == typeof self && self && self.Object === Object && self, l = a || c || Function("return this")(); var u, f = Array.prototype, h = Function.prototype, d = Object.prototype, p = l["__core-js_shared__"], v = (u = /[^.]+$/.exec(p && p.keys && p.keys.IE_PROTO || "")) ? "Symbol(src)_1." + u : "", b = h.toString, g = d.hasOwnProperty, m = d.toString, y = RegExp("^" + b.call(g).replace(/[\\^$.*+?()[\]{}|]/g, "\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"), x = f.splice, w = L(l, "Map"), _ = L(Object, "create"); function E(t) { var e = -1, n = t ? t.length : 0; for (this.clear(); ++e < n;) { var r = t[e]; this.set(r[0], r[1]) } } function O(t) { var e = -1, n = t ? t.length : 0; for (this.clear(); ++e < n;) { var r = t[e]; this.set(r[0], r[1]) } } function k(t) { var e = -1, n = t ? t.length : 0; for (this.clear(); ++e < n;) { var r = t[e]; this.set(r[0], r[1]) } } function S(t, e) { for (var n, r, i = t.length; i--;)if ((n = t[i][0]) === (r = e) || n != n && r != r) return i; return -1 } function A(t) { return !(!R(t) || (e = t, v && v in e)) && (function (t) { var e = R(t) ? m.call(t) : ""; return e == i || e == o }(t) || function (t) { var e = !1; if (null != t && "function" != typeof t.toString) try { e = !!(t + "") } catch (t) { } return e }(t) ? y : s).test(function (t) { if (null != t) { try { return b.call(t) } catch (t) { } try { return t + "" } catch (t) { } } return "" }(t)); var e } function M(t, e) { var n, r, i = t.__data__; return ("string" == (r = typeof (n = e)) || "number" == r || "symbol" == r || "boolean" == r ? "__proto__" !== n : null === n) ? i["string" == typeof e ? "string" : "hash"] : i.map } function L(t, e) { var n = function (t, e) { return null == t ? void 0 : t[e] }(t, e); return A(n) ? n : void 0 } function T(t, e) { if ("function" != typeof t || e && "function" != typeof e) throw new TypeError(n); var r = function () { var n = arguments, i = e ? e.apply(this, n) : n[0], o = r.cache; if (o.has(i)) return o.get(i); var s = t.apply(this, n); return r.cache = o.set(i, s), s }; return r.cache = new (T.Cache || k), r } function R(t) { var e = typeof t; return !!t && ("object" == e || "function" == e) } E.prototype.clear = function () { this.__data__ = _ ? _(null) : {} }, E.prototype.delete = function (t) { return this.has(t) && delete this.__data__[t] }, E.prototype.get = function (t) { var e = this.__data__; if (_) { var n = e[t]; return n === r ? void 0 : n } return g.call(e, t) ? e[t] : void 0 }, E.prototype.has = function (t) { var e = this.__data__; return _ ? void 0 !== e[t] : g.call(e, t) }, E.prototype.set = function (t, e) { return this.__data__[t] = _ && void 0 === e ? r : e, this }, O.prototype.clear = function () { this.__data__ = [] }, O.prototype.delete = function (t) { var e = this.__data__, n = S(e, t); return !(n < 0 || (n == e.length - 1 ? e.pop() : x.call(e, n, 1), 0)) }, O.prototype.get = function (t) { var e = this.__data__, n = S(e, t); return n < 0 ? void 0 : e[n][1] }, O.prototype.has = function (t) { return S(this.__data__, t) > -1 }, O.prototype.set = function (t, e) { var n = this.__data__, r = S(n, t); return r < 0 ? n.push([t, e]) : n[r][1] = e, this }, k.prototype.clear = function () { this.__data__ = { hash: new E, map: new (w || O), string: new E } }, k.prototype.delete = function (t) { return M(this, t).delete(t) }, k.prototype.get = function (t) { return M(this, t).get(t) }, k.prototype.has = function (t) { return M(this, t).has(t) }, k.prototype.set = function (t, e) { return M(this, t).set(t, e), this }, T.Cache = k, t.exports = T }).call(this, n(1)) }, function (t, e, n) { "use strict"; (function (t) { var n = function () { if ("undefined" != typeof Map) return Map; function t(t, e) { var n = -1; return t.some(function (t, r) { return t[0] === e && (n = r, !0) }), n } return function () { function e() { this.__entries__ = [] } return Object.defineProperty(e.prototype, "size", { get: function () { return this.__entries__.length }, enumerable: !0, configurable: !0 }), e.prototype.get = function (e) { var n = t(this.__entries__, e), r = this.__entries__[n]; return r && r[1] }, e.prototype.set = function (e, n) { var r = t(this.__entries__, e); ~r ? this.__entries__[r][1] = n : this.__entries__.push([e, n]) }, e.prototype.delete = function (e) { var n = this.__entries__, r = t(n, e); ~r && n.splice(r, 1) }, e.prototype.has = function (e) { return !!~t(this.__entries__, e) }, e.prototype.clear = function () { this.__entries__.splice(0) }, e.prototype.forEach = function (t, e) { void 0 === e && (e = null); for (var n = 0, r = this.__entries__; n < r.length; n++) { var i = r[n]; t.call(e, i[1], i[0]) } }, e }() }(), r = "undefined" != typeof window && "undefined" != typeof document && window.document === document, i = void 0 !== t && t.Math === Math ? t : "undefined" != typeof self && self.Math === Math ? self : "undefined" != typeof window && window.Math === Math ? window : Function("return this")(), o = "function" == typeof requestAnimationFrame ? requestAnimationFrame.bind(i) : function (t) { return setTimeout(function () { return t(Date.now()) }, 1e3 / 60) }, s = 2; var a = 20, c = ["top", "right", "bottom", "left", "width", "height", "size", "weight"], l = "undefined" != typeof MutationObserver, u = function () { function t() { this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = function (t, e) { var n = !1, r = !1, i = 0; function a() { n && (n = !1, t()), r && l() } function c() { o(a) } function l() { var t = Date.now(); if (n) { if (t - i < s) return; r = !0 } else n = !0, r = !1, setTimeout(c, e); i = t } return l }(this.refresh.bind(this), a) } return t.prototype.addObserver = function (t) { ~this.observers_.indexOf(t) || this.observers_.push(t), this.connected_ || this.connect_() }, t.prototype.removeObserver = function (t) { var e = this.observers_, n = e.indexOf(t); ~n && e.splice(n, 1), !e.length && this.connected_ && this.disconnect_() }, t.prototype.refresh = function () { this.updateObservers_() && this.refresh() }, t.prototype.updateObservers_ = function () { var t = this.observers_.filter(function (t) { return t.gatherActive(), t.hasActive() }); return t.forEach(function (t) { return t.broadcastActive() }), t.length > 0 }, t.prototype.connect_ = function () { r && !this.connected_ && (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), l ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, { attributes: !0, childList: !0, characterData: !0, subtree: !0 })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0) }, t.prototype.disconnect_ = function () { r && this.connected_ && (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1) }, t.prototype.onTransitionEnd_ = function (t) { var e = t.propertyName, n = void 0 === e ? "" : e; c.some(function (t) { return !!~n.indexOf(t) }) && this.refresh() }, t.getInstance = function () { return this.instance_ || (this.instance_ = new t), this.instance_ }, t.instance_ = null, t }(), f = function (t, e) { for (var n = 0, r = Object.keys(e); n < r.length; n++) { var i = r[n]; Object.defineProperty(t, i, { value: e[i], enumerable: !1, writable: !1, configurable: !0 }) } return t }, h = function (t) { return t && t.ownerDocument && t.ownerDocument.defaultView || i }, d = y(0, 0, 0, 0); function p(t) { return parseFloat(t) || 0 } function v(t) { for (var e = [], n = 1; n < arguments.length; n++)e[n - 1] = arguments[n]; return e.reduce(function (e, n) { return e + p(t["border-" + n + "-width"]) }, 0) } function b(t) { var e = t.clientWidth, n = t.clientHeight; if (!e && !n) return d; var r = h(t).getComputedStyle(t), i = function (t) { for (var e = {}, n = 0, r = ["top", "right", "bottom", "left"]; n < r.length; n++) { var i = r[n], o = t["padding-" + i]; e[i] = p(o) } return e }(r), o = i.left + i.right, s = i.top + i.bottom, a = p(r.width), c = p(r.height); if ("border-box" === r.boxSizing && (Math.round(a + o) !== e && (a -= v(r, "left", "right") + o), Math.round(c + s) !== n && (c -= v(r, "top", "bottom") + s)), !function (t) { return t === h(t).document.documentElement }(t)) { var l = Math.round(a + o) - e, u = Math.round(c + s) - n; 1 !== Math.abs(l) && (a -= l), 1 !== Math.abs(u) && (c -= u) } return y(i.left, i.top, a, c) } var g = "undefined" != typeof SVGGraphicsElement ? function (t) { return t instanceof h(t).SVGGraphicsElement } : function (t) { return t instanceof h(t).SVGElement && "function" == typeof t.getBBox }; function m(t) { return r ? g(t) ? function (t) { var e = t.getBBox(); return y(0, 0, e.width, e.height) }(t) : b(t) : d } function y(t, e, n, r) { return { x: t, y: e, width: n, height: r } } var x = function () { function t(t) { this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = y(0, 0, 0, 0), this.target = t } return t.prototype.isActive = function () { var t = m(this.target); return this.contentRect_ = t, t.width !== this.broadcastWidth || t.height !== this.broadcastHeight }, t.prototype.broadcastRect = function () { var t = this.contentRect_; return this.broadcastWidth = t.width, this.broadcastHeight = t.height, t }, t }(), w = function () { return function (t, e) { var n, r, i, o, s, a, c, l = (r = (n = e).x, i = n.y, o = n.width, s = n.height, a = "undefined" != typeof DOMRectReadOnly ? DOMRectReadOnly : Object, c = Object.create(a.prototype), f(c, { x: r, y: i, width: o, height: s, top: i, right: r + o, bottom: s + i, left: r }), c); f(this, { target: t, contentRect: l }) } }(), _ = function () { function t(t, e, r) { if (this.activeObservations_ = [], this.observations_ = new n, "function" != typeof t) throw new TypeError("The callback provided as parameter 1 is not a function."); this.callback_ = t, this.controller_ = e, this.callbackCtx_ = r } return t.prototype.observe = function (t) { if (!arguments.length) throw new TypeError("1 argument required, but only 0 present."); if ("undefined" != typeof Element && Element instanceof Object) { if (!(t instanceof h(t).Element)) throw new TypeError('parameter 1 is not of type "Element".'); var e = this.observations_; e.has(t) || (e.set(t, new x(t)), this.controller_.addObserver(this), this.controller_.refresh()) } }, t.prototype.unobserve = function (t) { if (!arguments.length) throw new TypeError("1 argument required, but only 0 present."); if ("undefined" != typeof Element && Element instanceof Object) { if (!(t instanceof h(t).Element)) throw new TypeError('parameter 1 is not of type "Element".'); var e = this.observations_; e.has(t) && (e.delete(t), e.size || this.controller_.removeObserver(this)) } }, t.prototype.disconnect = function () { this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this) }, t.prototype.gatherActive = function () { var t = this; this.clearActive(), this.observations_.forEach(function (e) { e.isActive() && t.activeObservations_.push(e) }) }, t.prototype.broadcastActive = function () { if (this.hasActive()) { var t = this.callbackCtx_, e = this.activeObservations_.map(function (t) { return new w(t.target, t.broadcastRect()) }); this.callback_.call(t, e, t), this.clearActive() } }, t.prototype.clearActive = function () { this.activeObservations_.splice(0) }, t.prototype.hasActive = function () { return this.activeObservations_.length > 0 }, t }(), E = "undefined" != typeof WeakMap ? new WeakMap : new n, O = function () { return function t(e) { if (!(this instanceof t)) throw new TypeError("Cannot call a class as a function."); if (!arguments.length) throw new TypeError("1 argument required, but only 0 present."); var n = u.getInstance(), r = new _(e, n, this); E.set(this, r) } }();["observe", "unobserve", "disconnect"].forEach(function (t) { O.prototype[t] = function () { var e; return (e = E.get(this))[t].apply(e, arguments) } }); var k = void 0 !== i.ResizeObserver ? i.ResizeObserver : O; e.a = k }).call(this, n(1)) }, , , function (t, e) { !function (t, e) { "use strict"; if ("IntersectionObserver" in t && "IntersectionObserverEntry" in t && "intersectionRatio" in t.IntersectionObserverEntry.prototype) "isIntersecting" in t.IntersectionObserverEntry.prototype || Object.defineProperty(t.IntersectionObserverEntry.prototype, "isIntersecting", { get: function () { return this.intersectionRatio > 0 } }); else { var n = []; i.prototype.THROTTLE_TIMEOUT = 100, i.prototype.POLL_INTERVAL = null, i.prototype.USE_MUTATION_OBSERVER = !0, i.prototype.observe = function (t) { if (!this._observationTargets.some(function (e) { return e.element == t })) { if (!t || 1 != t.nodeType) throw new Error("target must be an Element"); this._registerInstance(), this._observationTargets.push({ element: t, entry: null }), this._monitorIntersections(), this._checkForIntersections() } }, i.prototype.unobserve = function (t) { this._observationTargets = this._observationTargets.filter(function (e) { return e.element != t }), this._observationTargets.length || (this._unmonitorIntersections(), this._unregisterInstance()) }, i.prototype.disconnect = function () { this._observationTargets = [], this._unmonitorIntersections(), this._unregisterInstance() }, i.prototype.takeRecords = function () { var t = this._queuedEntries.slice(); return this._queuedEntries = [], t }, i.prototype._initThresholds = function (t) { var e = t || [0]; return Array.isArray(e) || (e = [e]), e.sort().filter(function (t, e, n) { if ("number" != typeof t || isNaN(t) || t < 0 || t > 1) throw new Error("threshold must be a number between 0 and 1 inclusively"); return t !== n[e - 1] }) }, i.prototype._parseRootMargin = function (t) { var e = (t || "0px").split(/\s+/).map(function (t) { var e = /^(-?\d*\.?\d+)(px|%)$/.exec(t); if (!e) throw new Error("rootMargin must be specified in pixels or percent"); return { value: parseFloat(e[1]), unit: e[2] } }); return e[1] = e[1] || e[0], e[2] = e[2] || e[0], e[3] = e[3] || e[1], e }, i.prototype._monitorIntersections = function () { this._monitoringIntersections || (this._monitoringIntersections = !0, this.POLL_INTERVAL ? this._monitoringInterval = setInterval(this._checkForIntersections, this.POLL_INTERVAL) : (o(t, "resize", this._checkForIntersections, !0), o(e, "scroll", this._checkForIntersections, !0), this.USE_MUTATION_OBSERVER && "MutationObserver" in t && (this._domObserver = new MutationObserver(this._checkForIntersections), this._domObserver.observe(e, { attributes: !0, childList: !0, characterData: !0, subtree: !0 })))) }, i.prototype._unmonitorIntersections = function () { this._monitoringIntersections && (this._monitoringIntersections = !1, clearInterval(this._monitoringInterval), this._monitoringInterval = null, s(t, "resize", this._checkForIntersections, !0), s(e, "scroll", this._checkForIntersections, !0), this._domObserver && (this._domObserver.disconnect(), this._domObserver = null)) }, i.prototype._checkForIntersections = function () { var e = this._rootIsInDom(), n = e ? this._getRootRect() : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 }; this._observationTargets.forEach(function (i) { var o = i.element, s = a(o), c = this._rootContainsTarget(o), l = i.entry, u = e && c && this._computeTargetAndRootIntersection(o, n), f = i.entry = new r({ time: t.performance && performance.now && performance.now(), target: o, boundingClientRect: s, rootBounds: n, intersectionRect: u }); l ? e && c ? this._hasCrossedThreshold(l, f) && this._queuedEntries.push(f) : l && l.isIntersecting && this._queuedEntries.push(f) : this._queuedEntries.push(f) }, this), this._queuedEntries.length && this._callback(this.takeRecords(), this) }, i.prototype._computeTargetAndRootIntersection = function (n, r) { if ("none" != t.getComputedStyle(n).display) { for (var i, o, s, c, u, f, h, d, p = a(n), v = l(n), b = !1; !b;) { var g = null, m = 1 == v.nodeType ? t.getComputedStyle(v) : {}; if ("none" == m.display) return; if (v == this.root || v == e ? (b = !0, g = r) : v != e.body && v != e.documentElement && "visible" != m.overflow && (g = a(v)), g && (i = g, o = p, s = void 0, c = void 0, u = void 0, f = void 0, h = void 0, d = void 0, s = Math.max(i.top, o.top), c = Math.min(i.bottom, o.bottom), u = Math.max(i.left, o.left), f = Math.min(i.right, o.right), d = c - s, !(p = (h = f - u) >= 0 && d >= 0 && { top: s, bottom: c, left: u, right: f, width: h, height: d }))) break; v = l(v) } return p } }, i.prototype._getRootRect = function () { var t; if (this.root) t = a(this.root); else { var n = e.documentElement, r = e.body; t = { top: 0, left: 0, right: n.clientWidth || r.clientWidth, width: n.clientWidth || r.clientWidth, bottom: n.clientHeight || r.clientHeight, height: n.clientHeight || r.clientHeight } } return this._expandRectByRootMargin(t) }, i.prototype._expandRectByRootMargin = function (t) { var e = this._rootMarginValues.map(function (e, n) { return "px" == e.unit ? e.value : e.value * (n % 2 ? t.width : t.height) / 100 }), n = { top: t.top - e[0], right: t.right + e[1], bottom: t.bottom + e[2], left: t.left - e[3] }; return n.width = n.right - n.left, n.height = n.bottom - n.top, n }, i.prototype._hasCrossedThreshold = function (t, e) { var n = t && t.isIntersecting ? t.intersectionRatio || 0 : -1, r = e.isIntersecting ? e.intersectionRatio || 0 : -1; if (n !== r) for (var i = 0; i < this.thresholds.length; i++) { var o = this.thresholds[i]; if (o == n || o == r || o < n != o < r) return !0 } }, i.prototype._rootIsInDom = function () { return !this.root || c(e, this.root) }, i.prototype._rootContainsTarget = function (t) { return c(this.root || e, t) }, i.prototype._registerInstance = function () { n.indexOf(this) < 0 && n.push(this) }, i.prototype._unregisterInstance = function () { var t = n.indexOf(this); -1 != t && n.splice(t, 1) }, t.IntersectionObserver = i, t.IntersectionObserverEntry = r } function r(t) { this.time = t.time, this.target = t.target, this.rootBounds = t.rootBounds, this.boundingClientRect = t.boundingClientRect, this.intersectionRect = t.intersectionRect || { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 }, this.isIntersecting = !!t.intersectionRect; var e = this.boundingClientRect, n = e.width * e.height, r = this.intersectionRect, i = r.width * r.height; this.intersectionRatio = n ? Number((i / n).toFixed(4)) : this.isIntersecting ? 1 : 0 } function i(t, e) { var n, r, i, o = e || {}; if ("function" != typeof t) throw new Error("callback must be a function"); if (o.root && 1 != o.root.nodeType) throw new Error("root must be an Element"); this._checkForIntersections = (n = this._checkForIntersections.bind(this), r = this.THROTTLE_TIMEOUT, i = null, function () { i || (i = setTimeout(function () { n(), i = null }, r)) }), this._callback = t, this._observationTargets = [], this._queuedEntries = [], this._rootMarginValues = this._parseRootMargin(o.rootMargin), this.thresholds = this._initThresholds(o.threshold), this.root = o.root || null, this.rootMargin = this._rootMarginValues.map(function (t) { return t.value + t.unit }).join(" ") } function o(t, e, n, r) { "function" == typeof t.addEventListener ? t.addEventListener(e, n, r || !1) : "function" == typeof t.attachEvent && t.attachEvent("on" + e, n) } function s(t, e, n, r) { "function" == typeof t.removeEventListener ? t.removeEventListener(e, n, r || !1) : "function" == typeof t.detatchEvent && t.detatchEvent("on" + e, n) } function a(t) { var e; try { e = t.getBoundingClientRect() } catch (t) { } return e ? (e.width && e.height || (e = { top: e.top, right: e.right, bottom: e.bottom, left: e.left, width: e.right - e.left, height: e.bottom - e.top }), e) : { top: 0, bottom: 0, left: 0, right: 0, width: 0, height: 0 } } function c(t, e) { for (var n = e; n;) { if (n == t) return !0; n = l(n) } return !1 } function l(t) { var e = t.parentNode; return e && 11 == e.nodeType && e.host ? e.host : e } }(window, document) }, function (t, e) { d3.selection.prototype.itemHistogram = function (t) { var e = this.nodes().map(function (t) { var e = d3.select(t), n = e.datum(), r = null, i = { init: function () { e.selectAll(".chart").data(n).enter().append("div").attr("class", function (t) { return "chart chart-".concat(t.key) }), i.resize(), i.render() }, resize: function () { return e.node().offsetWidth, e.node().offsetHeight, r = d3.scaleLinear().range([1, 20]).domain([0, 286]), i }, render: function () { return e.selectAll(".chart").selectAll(".race-group").data(function (t) { return t.values }).enter().append("div").attr("class", function (t) { return "race-group race-group-".concat(t.key) }).selectAll(".bar").data(function (t) { return t.values }).enter().append("div").attr("class", function (t) { return "bar bar-".concat(t.item) }).style("width", function (t) { return "".concat(Math.floor(r(t.n)), "px") }).style("height", "".concat(15, "px")), i }, data: function (t) { return arguments.length ? (n = t, e.datum(n), i.render(), i) : n } }; return i.init(), i }); return e.length > 1 ? e : e.pop() } }, function (t, e, n) { "use strict"; var r = n(2), i = n(16), o = n(10), s = n(11), a = n(28), c = n(30), l = Math.max, u = Math.min, f = Math.floor, h = /\$([$&`']|\d\d?|<[^>]*>)/g, d = /\$([$&`']|\d\d?)/g; n(35)("replace", 2, function (t, e, n, p) { return [function (r, i) { var o = t(this), s = null == r ? void 0 : r[e]; return void 0 !== s ? s.call(r, o, i) : n.call(String(o), r, i) }, function (t, e) { var i = p(n, t, this, e); if (i.done) return i.value; var f = r(t), h = String(this), d = "function" == typeof e; d || (e = String(e)); var b = f.global; if (b) { var g = f.unicode; f.lastIndex = 0 } for (var m = []; ;) { var y = c(f, h); if (null === y) break; if (m.push(y), !b) break; "" === String(y[0]) && (f.lastIndex = a(h, o(f.lastIndex), g)) } for (var x, w = "", _ = 0, E = 0; E < m.length; E++) { y = m[E]; for (var O = String(y[0]), k = l(u(s(y.index), h.length), 0), S = [], A = 1; A < y.length; A++)S.push(void 0 === (x = y[A]) ? x : String(x)); var M = y.groups; if (d) { var L = [O].concat(S, k, h); void 0 !== M && L.push(M); var T = String(e.apply(void 0, L)) } else T = v(O, h, k, S, M, e); k >= _ && (w += h.slice(_, k) + T, _ = k + O.length) } return w + h.slice(_) }]; function v(t, e, r, o, s, a) { var c = r + t.length, l = o.length, u = d; return void 0 !== s && (s = i(s), u = h), n.call(a, u, function (n, i) { var a; switch (i.charAt(0)) { case "$": return "$"; case "&": return t; case "`": return e.slice(0, r); case "'": return e.slice(c); case "<": a = s[i.slice(1, -1)]; break; default: var u = +i; if (0 === u) return n; if (u > l) { var h = f(u / 10); return 0 === h ? n : h <= l ? void 0 === o[h - 1] ? i.charAt(1) : o[h - 1] + i.charAt(1) : n } a = o[u - 1] }return void 0 === a ? "" : a }) } }) }, function (t, e, n) { "use strict"; var r = n(36); n(18)({ target: "RegExp", proto: !0, forced: r !== /./.exec }, { exec: r }) }, function (t, e, n) { "use strict"; var r = n(2); t.exports = function () { var t = r(this), e = ""; return t.global && (e += "g"), t.ignoreCase && (e += "i"), t.multiline && (e += "m"), t.unicode && (e += "u"), t.sticky && (e += "y"), e } }, function (t, e, n) { t.exports = !n(6) && !n(19)(function () { return 7 != Object.defineProperty(n(37)("div"), "a", { get: function () { return 7 } }).a }) }, function (t, e, n) { var r = n(15); t.exports = function (t, e) { if (!r(t)) return t; var n, i; if (e && "function" == typeof (n = t.toString) && !r(i = n.call(t))) return i; if ("function" == typeof (n = t.valueOf) && !r(i = n.call(t))) return i; if (!e && "function" == typeof (n = t.toString) && !r(i = n.call(t))) return i; throw TypeError("Can't convert object to primitive value") } }, function (t, e) { t.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, function (t, e, n) { var r = n(5).f, i = Function.prototype, o = /^\s*function ([^ (]*)/; "name" in i || n(6) && r(i, "name", { configurable: !0, get: function () { try { return ("" + this).match(o)[1] } catch (t) { return "" } } }) }, function (t, e, n) { "use strict"; var r = n(2), i = n(10), o = n(28), s = n(30); n(35)("match", 1, function (t, e, n, a) { return [function (n) { var r = t(this), i = null == n ? void 0 : n[e]; return void 0 !== i ? i.call(n, r) : new RegExp(n)[e](String(r)) }, function (t) { var e = a(n, t, this); if (e.done) return e.value; var c = r(t), l = String(this); if (!c.global) return s(c, l); var u = c.unicode; c.lastIndex = 0; for (var f, h = [], d = 0; null !== (f = s(c, l));) { var p = String(f[0]); h[d] = p, "" === p && (c.lastIndex = o(l, i(c.lastIndex), u)), d++ } return 0 === d ? null : h }] }) }, function (t, e, n) { for (var r = n(59), i = n(40), o = n(13), s = n(3), a = n(4), c = n(7), l = n(0), u = l("iterator"), f = l("toStringTag"), h = c.Array, d = { CSSRuleList: !0, CSSStyleDeclaration: !1, CSSValueList: !1, ClientRectList: !1, DOMRectList: !1, DOMStringList: !1, DOMTokenList: !0, DataTransferItemList: !1, FileList: !1, HTMLAllCollection: !1, HTMLCollection: !1, HTMLFormElement: !1, HTMLSelectElement: !1, MediaList: !0, MimeTypeArray: !1, NamedNodeMap: !1, NodeList: !0, PaintRequestList: !1, Plugin: !1, PluginArray: !1, SVGLengthList: !1, SVGNumberList: !1, SVGPathSegList: !1, SVGPointList: !1, SVGStringList: !1, SVGTransformList: !1, SourceBufferList: !1, StyleSheetList: !0, TextTrackCueList: !1, TextTrackList: !1, TouchList: !1 }, p = i(d), v = 0; v < p.length; v++) { var b, g = p[v], m = d[g], y = s[g], x = y && y.prototype; if (x && (x[u] || a(x, u, h), x[f] || a(x, f, g), c[g] = h, m)) for (b in r) x[b] || o(x, b, r[b], !0) } }, function (t, e, n) { "use strict"; var r = n(60), i = n(61), o = n(7), s = n(21); t.exports = n(39)(Array, "Array", function (t, e) { this._t = s(t), this._i = 0, this._k = e }, function () { var t = this._t, e = this._k, n = this._i++; return !t || n >= t.length ? (this._t = void 0, i(1)) : i(0, "keys" == e ? n : "values" == e ? t[n] : [n, t[n]]) }, "values"), o.Arguments = o.Array, r("keys"), r("values"), r("entries") }, function (t, e, n) { var r = n(0)("unscopables"), i = Array.prototype; null == i[r] && n(4)(i, r, {}), t.exports = function (t) { i[r][t] = !0 } }, function (t, e) { t.exports = function (t, e) { return { value: e, done: !!t } } }, function (t, e, n) { var r = n(32); t.exports = Object("z").propertyIsEnumerable(0) ? Object : function (t) { return "String" == r(t) ? t.split("") : Object(t) } }, function (t, e, n) { "use strict"; var r = n(64), i = n(20), o = n(42), s = {}; n(4)(s, n(0)("iterator"), function () { return this }), t.exports = function (t, e, n) { t.prototype = r(s, { next: i(1, n) }), o(t, e + " Iterator") } }, function (t, e, n) { var r = n(2), i = n(65), o = n(41), s = n(22)("IE_PROTO"), a = function () { }, c = function () { var t, e = n(37)("iframe"), r = o.length; for (e.style.display = "none", n(69).appendChild(e), e.src = "javascript:", (t = e.contentWindow.document).open(), t.write("<script>document.F=Object<\/script>"), t.close(), c = t.F; r--;)delete c.prototype[o[r]]; return c() }; t.exports = Object.create || function (t, e) { var n; return null !== t ? (a.prototype = r(t), n = new a, a.prototype = null, n[s] = t) : n = c(), void 0 === e ? n : i(n, e) } }, function (t, e, n) { var r = n(5), i = n(2), o = n(40); t.exports = n(6) ? Object.defineProperties : function (t, e) { i(t); for (var n, s = o(e), a = s.length, c = 0; a > c;)r.f(t, n = s[c++], e[n]); return t } }, function (t, e, n) { var r = n(14), i = n(21), o = n(67)(!1), s = n(22)("IE_PROTO"); t.exports = function (t, e) { var n, a = i(t), c = 0, l = []; for (n in a) n != s && r(a, n) && l.push(n); for (; e.length > c;)r(a, n = e[c++]) && (~o(l, n) || l.push(n)); return l } }, function (t, e, n) { var r = n(21), i = n(10), o = n(68); t.exports = function (t) { return function (e, n, s) { var a, c = r(e), l = i(c.length), u = o(s, l); if (t && n != n) { for (; l > u;)if ((a = c[u++]) != a) return !0 } else for (; l > u; u++)if ((t || u in c) && c[u] === n) return t || u || 0; return !t && -1 } } }, function (t, e, n) { var r = n(11), i = Math.max, o = Math.min; t.exports = function (t, e) { return (t = r(t)) < 0 ? i(t + e, 0) : o(t, e) } }, function (t, e, n) { var r = n(3).document; t.exports = r && r.documentElement }, function (t, e, n) { var r = n(14), i = n(16), o = n(22)("IE_PROTO"), s = Object.prototype; t.exports = Object.getPrototypeOf || function (t) { return t = i(t), r(t, o) ? t[o] : "function" == typeof t.constructor && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? s : null } }, function (t, e, n) { "use strict"; var r = n(29)(!0); n(39)(String, "String", function (t) { this._t = String(t), this._i = 0 }, function () { var t, e = this._t, n = this._i; return n >= e.length ? { value: void 0, done: !0 } : (t = r(e, n), this._i += t.length, { value: t, done: !1 }) }) }, function (t, e, n) { "use strict"; var r = n(38), i = n(18), o = n(16), s = n(73), a = n(74), c = n(10), l = n(75), u = n(76); i(i.S + i.F * !n(77)(function (t) { Array.from(t) }), "Array", { from: function (t) { var e, n, i, f, h = o(t), d = "function" == typeof this ? this : Array, p = arguments.length, v = p > 1 ? arguments[1] : void 0, b = void 0 !== v, g = 0, m = u(h); if (b && (v = r(v, p > 2 ? arguments[2] : void 0, 2)), null == m || d == Array && a(m)) for (n = new d(e = c(h.length)); e > g; g++)l(n, g, b ? v(h[g], g) : h[g]); else for (f = m.call(h), n = new d; !(i = f.next()).done; g++)l(n, g, b ? s(f, v, [i.value, g], !0) : i.value); return n.length = g, n } }) }, function (t, e, n) { var r = n(2); t.exports = function (t, e, n, i) { try { return i ? e(r(n)[0], n[1]) : e(n) } catch (e) { var o = t.return; throw void 0 !== o && r(o.call(t)), e } } }, function (t, e, n) { var r = n(7), i = n(0)("iterator"), o = Array.prototype; t.exports = function (t) { return void 0 !== t && (r.Array === t || o[i] === t) } }, function (t, e, n) { "use strict"; var r = n(5), i = n(20); t.exports = function (t, e, n) { e in t ? r.f(t, e, i(0, n)) : t[e] = n } }, function (t, e, n) { var r = n(31), i = n(0)("iterator"), o = n(7); t.exports = n(12).getIteratorMethod = function (t) { if (null != t) return t[i] || t["@@iterator"] || o[r(t)] } }, function (t, e, n) { var r = n(0)("iterator"), i = !1; try { var o = [7][r](); o.return = function () { i = !0 }, Array.from(o, function () { throw 2 }) } catch (t) { } t.exports = function (t, e) { if (!e && !i) return !1; var n = !1; try { var o = [7], s = o[r](); s.next = function () { return { done: n = !0 } }, o[r] = function () { return s }, t(o) } catch (t) { } return n } }, , , , , , , , , function (t, e, n) { "use strict"; n.r(e); var r = n(8), i = n.n(r), o = { android: function () { return navigator.userAgent.match(/Android/i) }, blackberry: function () { return navigator.userAgent.match(/BlackBerry/i) }, ios: function () { return navigator.userAgent.match(/iPhone|iPad|iPod/i) }, opera: function () { return navigator.userAgent.match(/Opera Mini/i) }, windows: function () { return navigator.userAgent.match(/IEMobile/i) }, any: function () { return o.android() || o.blackberry() || o.ios() || o.opera() || o.windows() } }, s = o; function a(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var c = d3.select(".container__bodyBar"), l = (c.select("svg"), c.select(".container__bars")), u = null, f = 80, h = [], d = { top: 30, bottom: 0, left: 0, right: 0 }, p = d3.scaleLinear(), v = (d3.scaleBand(), 0), b = 20, g = 8; function m(t) { return t.map(function (t, e) { return function (t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}, r = Object.keys(n); "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (t) { return Object.getOwnPropertyDescriptor(n, t).enumerable }))), r.forEach(function (e) { a(t, e, n[e]) }) } return t }({}, t, { n: +t.n, per: +t.per }) }) } function y() { v = c.node().offsetWidth - d.left - d.right, b * h.length + g * (h.length - 1); var t = d3.max(h, function (t) { return t.per }); p.domain([0, t]).range([0, v - d.right - d.left]), u.selectAll(".bar__bar").st("width", function (t) { return p(t.per) }), u.selectAll(".bar__label").st("width", function (t) { return f }) } var x = { init: function () { return new Promise(function (t) { d3.loadData("assets/data/bodyPer.csv", function (e, n) { h = m(n[0]), function () { l.append("div.left"); var t = (u = l.append("div.right")).selectAll("bar__group").data(h).enter().append("div.bar__group"); t.append("div.bar__label").append("p.bar__label-text").text(function (t) { return t.item }), t.append("div.bar__bar").append("p.bar__bar-text").text(function (t) { return "".concat(t.per, "%") }), y() }(), t() }) }) }, resize: y }, w = [{ state: "Alabama", abbr: "AL" }, { state: "Alaska", abbr: "AK" }, { state: "Arizona", abbr: "AZ" }, { state: "Arkansas", abbr: "AR" }, { state: "California", abbr: "CA" }, { state: "Colorado", abbr: "CO" }, { state: "Connecticut", abbr: "CT" }, { state: "Delaware", abbr: "DE" }, { state: "District of Columbia", abbr: "DC" }, { state: "Florida", abbr: "FL" }, { state: "Georgia", abbr: "GA" }, { state: "Hawaii", abbr: "HI" }, { state: "Idaho", abbr: "ID" }, { state: "Illinois", abbr: "IL" }, { state: "Indiana", abbr: "IN" }, { state: "Iowa", abbr: "IA" }, { state: "Kansas", abbr: "KS" }, { state: "Kentucky", abbr: "KY" }, { state: "Louisiana", abbr: "LA" }, { state: "Maine", abbr: "ME" }, { state: "Montana", abbr: "MT" }, { state: "Nebraska", abbr: "NE" }, { state: "Nevada", abbr: "NV" }, { state: "New Hampshire", abbr: "NH" }, { state: "New Jersey", abbr: "NJ" }, { state: "New Mexico", abbr: "NM" }, { state: "New York", abbr: "NY" }, { state: "North Carolina", abbr: "NC" }, { state: "North Dakota", abbr: "ND" }, { state: "Ohio", abbr: "OH" }, { state: "Oklahoma", abbr: "OK" }, { state: "Oregon", abbr: "OR" }, { state: "Maryland", abbr: "MD" }, { state: "Massachusetts", abbr: "MA" }, { state: "Michigan", abbr: "MI" }, { state: "Minnesota", abbr: "MN" }, { state: "Mississippi", abbr: "MS" }, { state: "Missouri", abbr: "MO" }, { state: "Pennsylvania", abbr: "PA" }, { state: "Rhode Island", abbr: "RI" }, { state: "South Carolina", abbr: "SC" }, { state: "South Dakota", abbr: "SD" }, { state: "Tennessee", abbr: "TN" }, { state: "Texas", abbr: "TX" }, { state: "Utah", abbr: "UT" }, { state: "Vermont", abbr: "VT" }, { state: "Virginia", abbr: "VA" }, { state: "Washington", abbr: "WA" }, { state: "West Virginia", abbr: "WV" }, { state: "Wisconsin", abbr: "WI" }, { state: "Wyoming", abbr: "WY" }, { state: "Washington DC", abbr: "DC" }]; var _ = function (t) { var e = w.find(function (e) { return e.abbr.toLowerCase() === t.toLowerCase() }); return e ? e.state : null }; function E(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var O = d3.select(".container__figure"), k = O.select(".container__grid"), S = d3.select(".filters"), A = S.select(".select__state"), M = S.select(".select__size"), L = S.select(".select__locale"), T = d3.selectAll(".buttons button"), R = d3.select(".toggle-table button"), I = O.select(".tooltip"), j = null, C = null, N = null, P = 416, z = 30, W = 2, B = 275, D = B / 2, V = null, F = "All states", H = "All school sizes", q = "All locales", $ = {}, Y = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>'; function G(t) { return t.map(function (t, e) { return function (t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}, r = Object.keys(n); "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (t) { return Object.getOwnPropertyDescriptor(n, t).enumerable }))), r.forEach(function (e) { E(t, e, n[e]) }) } return t }({}, t, { stateAbb: t.state, state: _(t.state) }) }) } function X() { var t = d3.select(this), e = t.data()[0], n = (I.select(".school__name").text(e.schoolName), I.select(".school__state").text(e.stateAbb), I.select(".school__size").text("".concat(e.countGroup, " students")), t.node().offsetLeft), r = t.node().offsetTop; I.st("top", "".concat(r - 2 * z, "px")).classed("is-visible", !0), n < D ? I.st("left", "".concat(n + z, "px")) : n + D > C && n - B > 0 ? I.st("left", "".concat(n - B, "px")) : n + D > C && n - B < 0 ? I.st("left", "".concat(n - 3 * B / 4, "px")) : I.st("left", "".concat(n - D, "px")) } function U() { k.selectAll(".grid__blocks").data(j).enter().append("div.grid__blocks.is-visible").html(Y).on("mouseover", X).on("click", X); V = k.selectAll(".grid__blocks"), K(A, "state", "states"), K(M, "countGroup", "school sizes"), K(L, "localeGroup", "locales"), T.on("click", Z), R.on("click", function () { var t = k.classed("is-truncated"), e = t ? "Show Fewer" : "Show All"; if (R.text(e), k.classed("is-truncated", !t), !t) { var n = +R.at("data-y"); window.scrollTo(0, n) } R.at("data-y", window.scrollY), O.select(".show-more").classed("is-visible", !t) }), k.on("mouseleave", function (t) { I.classed("is-visible", !1) }) } function K(t, e, n) { t.selectAll("option").data(function (t) { var r = d3.nest().key(function (t) { return t[e] }).sortKeys(d3.ascending).entries(j).map(function (t) { return t.key }); return r.unshift("All " + n), r }).enter().append("option").attr("value", function (t) { return t }).text(function (t) { return t }), t.on("change", J) } function J() { var t = d3.select(this).at("data-dropdown"), e = this.value; "state" == t && (F = e), "size" == t && (H = e), "locale" == t && (q = e), V.classed("is-visible", function (t) { return !(t.state != F && "All states" != F || t.countGroup != H && "All school sizes" != H || t.localeGroup != q && "All locales" != q) }); var n = d3.selectAll(".grid__blocks.is-visible"), r = d3.select(".ui-warning"); n.size(); n.size() < 1 && r.classed("is-active", !0), n.size() > 1 && r.classed("is-active", !1), Q() } function Z() { var t = d3.select(this), e = t.at("data-button"), n = t.classed("is-active"); t.classed("is-active", !n), $[e.toLowerCase()] = !n; var r = Object.keys($).filter(function (t) { return $[t] }).map(function (t) { return t }); V.classed("is-highlighted", function (t) { if (r.length) { var e = r.every(function (e) { return t.bodyParts.includes(e) }); t.bodyParts; return e } return !1 }) } function Q() { var t = O.select(".show-more"); k.selectAll(".grid__blocks.is-visible").size() < N ? (t.classed("is-visible", !1), R.prop("disabled", !0).classed("is-disabled", !0)) : (t.classed("is-visible", !0), R.prop("disabled", !1).classed("is-disabled", !1)) } function tt() { C = k.node().offsetWidth; var t = Math.floor(C / (z + 2 * W)), e = Math.floor(P / (z + 2 * W)); N = t * e, Q() } var et = { init: function () { return new Promise(function (t) { d3.loadData("assets/data/bodyPerSchool.json", function (e, n) { j = G(n[0]), U(), tt(), t() }) }) }, resize: tt }, nt = n(43), rt = n.n(nt); n(48); function it(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var ot = [], st = [], at = rt()(), ct = d3.select(".scroll"), lt = ct.select(".container__clothes"), ut = ct.select(".scroll-text").selectAll(".step"), ft = ct.select(".chart__subtitle-fullWidth"), ht = "#FFFFFF", dt = "#0976DC", pt = "#158A36", vt = "#282828", bt = null, gt = null; function mt(t) { return t.map(function (t, e) { return function (t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}, r = Object.keys(n); "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (t) { return Object.getOwnPropertyDescriptor(n, t).enumerable }))), r.forEach(function (e) { it(t, e, n[e]) }) } return t }({}, t, { group: +t.group, n: +t.n, per: +t.per }) }) } function yt(t) { var e = t.index; 0 === e && (bt.classed("is-dimmed", !1), gt.classed("is-dimmed", !1).st("backgroundColor", ht).st("color", vt), ft.classed("is-visible", !1)), 1 === e && (bt.classed("is-dimmed", !0), lt.select(".clothes__group-60").classed("is-dimmed", !1), gt.classed("is-dimmed", !1).st("backgroundColor", ht).st("color", vt), ft.classed("is-visible", !1)), 2 === e && (gt.st("backgroundColor", ht), bt.classed("is-dimmed", !0), lt.select(".clothes__group-0").classed("is-dimmed", !1), gt.classed("is-dimmed", !1).st("color", vt), ft.classed("is-visible", !1)), 3 === e && (gt.st("backgroundColor", ht), bt.classed("is-dimmed", !1), gt.classed("is-dimmed", !0).transition().duration(300).st("color", vt), lt.selectAll(".").classed("is-dimmed", !1), ft.classed("is-visible", !1)), 4 === e && (bt.classed("is-dimmed", !1), gt.classed("is-dimmed", !1), lt.selectAll(".").classed("is-dimmed", !0), gt.transition().duration(300).st("backgroundColor", function (t) { return "f" == t.market ? dt : "m" == t.market ? pt : ht }).st("color", function (t) { return "f" == t.market || "m" == t.market ? ht : vt }), ft.classed("is-visible", !0)) } function xt() { st = d3.nest().key(function (t) { return +t.group }).sortValues(function (t, e) { return d3.ascending(t.market, e.market) }).entries(ot); var t = +d3.max(st, function (t) { return t.key }) + 10, e = d3.range(0, t, 10).map(function (t) { var e = st.filter(function (e) { return +e.key === t }); return 0 === e.length ? { key: t.toString(), values: [] } : e[0] }), n = lt.append("div.clothes__all").selectAll(".clothes__group").data(e).enter().append("div").attr("class", function (t) { return "clothes__group clothes__group-".concat(t.key) }); bt = lt.selectAll(".clothes__group"), n.append("div.clothes__only").selectAll(".clothes__item").data(function (t) { return t.values }).enter().append("span").text(function (t) { return t.slug }).attr("class", function (t) { return "clothes__item items__reveal-".concat(t.reveal_body, " items__market-").concat(t.market) }).st("backgroundColor", ht), gt = lt.selectAll(".clothes__item"); var r = n.append("div.axis__group"); r.append("div.axis__text").text(function (t) { return 0 == +t.key ? "5 - 10%" : "".concat(t.key, " - ").concat(+t.key + 10, "%") }), r.append("span.axis__text-sub").text("of schools"), at.setup({ container: ".scroll", graphic: ".container__clothes", text: ".scroll-text", step: ".step", debug: !1, offset: .85 }).onStepEnter(yt) } function wt() { var t = Math.floor(window.innerHeight); ut.st("height", "".concat(t, "px")), at.resize() } var _t = { init: function () { return new Promise(function (t) { d3.loadData("assets/data/clothes.csv", function (e, n) { ot = mt(n[0]), xt(), wt(), t() }) }) }, resize: wt }; n(49); d3.selectAll(".item"); function Et(t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}, r = Object.keys(n); "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (t) { return Object.getOwnPropertyDescriptor(n, t).enumerable }))), r.forEach(function (e) { Ot(t, e, n[e]) }) } return t } function Ot(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var kt = d3.select(".words__explore"), St = kt.select(".chart__container-words"), At = kt.select(".chart__container-examples"), Mt = d3.select("body"), Lt = kt.select(".chart__container-mobile"), Tt = [], Rt = [], It = [], jt = null, Ct = !1, Nt = 0, Pt = "disruption/distraction", zt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline></svg>', Wt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-plus"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line></svg>', Bt = '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-minus"><line x1="5" y1="12" x2="19" y2="12"></line></svg>'; function Dt() { St.selectAll(".g-word").classed("is-active", !1); var t = d3.select(this); t.classed("is-active", !0), Ft(t.at("data-word")) } function Vt() { It = d3.nest().key(function (t) { return t.item }).entries(Rt) } function Ft(t) { At.selectAll(".g-example").remove(); var e = It.filter(function (e) { return e.key === t })[0].values, n = At.selectAll(".g-example").data(e).enter().append("div.g-example"), r = n.append("div.top"), i = n.append("div.bottom"); r.append("p.school-name").text(function (t) { return t.schoolName }), r.append("p.school-state").text(function (t) { return t.state }), i.append("text.school-example").html(function (t) { return t.styled }) } function Ht() { var t, e, n; t = St.selectAll(".g-word").data(Tt).enter().append("div.g-word").attr("data-word", function (t) { return t.item }).on("click", Dt), e = t.append("div.left"), n = t.append("div.right"), e.append("p.word-title").text(function (t) { return t.display }), e.append("p.word-count").text(function (t) { return "Found in ".concat(t.n, " dress codes (").concat(t.per, "%)") }), n.append("div.arrow").html(zt), d3.select(".g-word").classed("is-active", !0), Vt(), Ft(Pt) } function qt() { var t = d3.select(this), e = d3.select(t.node().nextSibling).select(".example"), n = t.select(".symbol"); 1 == t.classed("is-active") ? (t.classed("is-active", !1), e.classed("is-expanded", !1), n.html(Wt)) : (t.classed("is-active", !0), e.classed("is-expanded", !0), n.html(Bt), Yt(t.at("data-word"), t)) } var $t = d3.map([{ item: "disruption/distraction", search: "distract|disrupt" }, { item: "appropriate/inappropriate", search: "appropriate|inappropriate" }, { item: "safe/safety", search: "safe|unsafe" }, { item: "health", search: "health" }, { item: "interfere with learning", search: "interfer" }, { item: "clean", search: "clean" }, { item: "modest/modesty", search: "modest|immodest" }, { item: "neat", search: "neat" }, { item: "respect/disrespect", search: "respect" }, { item: "good taste", search: "taste" }], function (t) { return t.item }); function Yt(t, e) { var n = d3.select(e.node().nextSibling).select(".example"); console.log({ word: t, nestedExample: It }); var r = It.filter(function (e) { return e.key === t })[0].values.slice(0, 30), i = n.selectAll(".g-example").data(r).enter().append("div.g-example"), o = i.append("div.top"), s = i.append("div.bottom"); o.append("p.school-name").text(function (t) { return t.schoolName }), o.append("p.school-state").text(function (t) { return t.state }), s.append("p.school-example").html(function (t) { return t.styled }) } function Gt() { !function () { var t = Lt.selectAll(".g-word").data(Tt).enter().append("div.g-word").attr("data-word", function (t) { return t.item }), e = t.append("div.word").attr("data-word", function (t) { return t.item }).on("click", qt), n = e.append("div.word-left"), r = e.append("div.word-right"); n.append("p.word-title").text(function (t) { return t.display }), n.append("p.word-count").text(function (t) { return "Found in ".concat(t.n, " dress codes (").concat(t.per, "%)") }), r.append("div.symbol").html(Wt); var i = t.append("div.simplebar__container-mobile"); i.at("data-simplebar", !0), i.append("div.example"); var o = Lt.select(".word"); o.classed("is-active", !0), d3.select(o.node().nextSibling).select(".example").classed("is-expanded", !0), o.select(".symbol").html(Bt), Yt(Pt, o) }() } function Xt() { Nt = jt, jt = Mt.node().offsetWidth; var t = !!(Nt >= 640) == (Ct = !(jt >= 640)); 1 == t && 1 == Ct ? Gt() : 1 == t && 0 == Ct && Ht() } var Ut = { init: function () { return new Promise(function (t) { d3.loadData("assets/data/words.csv", "assets/data/extract.csv", function (e, n) { var r; r = n[0], Tt = r.map(function (t, e) { return Et({}, t, { n: +t.n, per: +t.per }) }), Rt = function (t) { return t.map(function (t, e) { return Et({}, t, { styled: (n = t.item, r = t.extract, i = $t.get(n).search, o = new RegExp("((\\b)((".concat(i, ").*?)(\\b))")), s = r.replace(o, "<strong>$1</strong>"), s) }); var n, r, i, o, s }) }(n[1]), Vt(), Xt(), jt >= 640 && Ht(), jt < 640 && Gt(), t() }) }) }, resize: Xt }, Kt = n(23), Jt = n.n(Kt), Zt = (n(50), n(56), n(57), n(58), n(71), n(72), n(24)), Qt = n.n(Zt), te = n(25), ee = n.n(te), ne = n(44), re = n.n(ne), ie = n(45), oe = n(26), se = n.n(oe); function ae(t, e) { for (var n = 0; n < e.length; n++) { var r = e[n]; r.enumerable = r.enumerable || !1, r.configurable = !0, "value" in r && (r.writable = !0), Object.defineProperty(t, r.key, r) } } function ce(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } function le(t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}, r = Object.keys(n); "function" == typeof Object.getOwnPropertySymbols && (r = r.concat(Object.getOwnPropertySymbols(n).filter(function (t) { return Object.getOwnPropertyDescriptor(n, t).enumerable }))), r.forEach(function (e) { ce(t, e, n[e]) }) } return t } var ue = function () { function t(e, n) { var r = this; !function (t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }(this, t), this.onScroll = function () { r.scrollXTicking || (window.requestAnimationFrame(r.scrollX), r.scrollXTicking = !0), r.scrollYTicking || (window.requestAnimationFrame(r.scrollY), r.scrollYTicking = !0) }, this.scrollX = function () { r.axis.x.isOverflowing && (r.showScrollbar("x"), r.positionScrollbar("x")), r.scrollXTicking = !1 }, this.scrollY = function () { r.axis.y.isOverflowing && (r.showScrollbar("y"), r.positionScrollbar("y")), r.scrollYTicking = !1 }, this.onMouseEnter = function () { r.showScrollbar("x"), r.showScrollbar("y") }, this.onMouseMove = function (t) { r.mouseX = t.clientX, r.mouseY = t.clientY, (r.axis.x.isOverflowing || r.axis.x.forceVisible) && r.onMouseMoveForAxis("x"), (r.axis.y.isOverflowing || r.axis.y.forceVisible) && r.onMouseMoveForAxis("y") }, this.onMouseLeave = function () { r.onMouseMove.cancel(), (r.axis.x.isOverflowing || r.axis.x.forceVisible) && r.onMouseLeaveForAxis("x"), (r.axis.y.isOverflowing || r.axis.y.forceVisible) && r.onMouseLeaveForAxis("y"), r.mouseX = -1, r.mouseY = -1 }, this.onWindowResize = function () { r.scrollbarWidth = Qt()(), r.hideNativeScrollbar() }, this.hideScrollbars = function () { r.axis.x.track.rect = r.axis.x.track.el.getBoundingClientRect(), r.axis.y.track.rect = r.axis.y.track.el.getBoundingClientRect(), r.isWithinBounds(r.axis.y.track.rect) || (r.axis.y.scrollbar.el.classList.remove(r.classNames.visible), r.axis.y.isVisible = !1), r.isWithinBounds(r.axis.x.track.rect) || (r.axis.x.scrollbar.el.classList.remove(r.classNames.visible), r.axis.x.isVisible = !1) }, this.onPointerEvent = function (t) { var e, n; r.axis.x.scrollbar.rect = r.axis.x.scrollbar.el.getBoundingClientRect(), r.axis.y.scrollbar.rect = r.axis.y.scrollbar.el.getBoundingClientRect(), (r.axis.x.isOverflowing || r.axis.x.forceVisible) && (n = r.isWithinBounds(r.axis.x.scrollbar.rect)), (r.axis.y.isOverflowing || r.axis.y.forceVisible) && (e = r.isWithinBounds(r.axis.y.scrollbar.rect)), (e || n) && (t.preventDefault(), t.stopPropagation(), "mousedown" === t.type && (e && r.onDragStart(t, "y"), n && r.onDragStart(t, "x"))) }, this.drag = function (e) { var n = r.axis[r.draggedAxis].track, i = n.rect[r.axis[r.draggedAxis].sizeAttr], o = r.axis[r.draggedAxis].scrollbar; e.preventDefault(), e.stopPropagation(); var s = (("y" === r.draggedAxis ? e.pageY : e.pageX) - n.rect[r.axis[r.draggedAxis].offsetAttr] - r.axis[r.draggedAxis].dragOffset) / n.rect[r.axis[r.draggedAxis].sizeAttr] * r.contentEl[r.axis[r.draggedAxis].scrollSizeAttr]; "x" === r.draggedAxis && (s = r.isRtl && t.getRtlHelpers().isRtlScrollbarInverted ? s - (i + o.size) : s, s = r.isRtl && t.getRtlHelpers().isRtlScrollingInverted ? -s : s), r.contentEl[r.axis[r.draggedAxis].scrollOffsetAttr] = s }, this.onEndDrag = function (t) { t.preventDefault(), t.stopPropagation(), document.removeEventListener("mousemove", r.drag), document.removeEventListener("mouseup", r.onEndDrag) }, this.el = e, this.flashTimeout, this.contentEl, this.offsetEl, this.maskEl, this.globalObserver, this.mutationObserver, this.resizeObserver, this.scrollbarWidth, this.minScrollbarWidth = 20, this.options = le({}, t.defaultOptions, n), this.classNames = le({}, t.defaultOptions.classNames, this.options.classNames), this.isRtl, this.axis = { x: { scrollOffsetAttr: "scrollLeft", sizeAttr: "width", scrollSizeAttr: "scrollWidth", offsetAttr: "left", overflowAttr: "overflowX", dragOffset: 0, isOverflowing: !0, isVisible: !1, forceVisible: !1, track: {}, scrollbar: {} }, y: { scrollOffsetAttr: "scrollTop", sizeAttr: "height", scrollSizeAttr: "scrollHeight", offsetAttr: "top", overflowAttr: "overflowY", dragOffset: 0, isOverflowing: !0, isVisible: !1, forceVisible: !1, track: {}, scrollbar: {} } }, this.recalculate = ee()(this.recalculate.bind(this), 64), this.onMouseMove = ee()(this.onMouseMove.bind(this), 64), this.hideScrollbars = i()(this.hideScrollbars.bind(this), this.options.timeout), this.onWindowResize = i()(this.onWindowResize.bind(this), 64, { leading: !0 }), t.getRtlHelpers = re()(t.getRtlHelpers), this.getContentElement = this.getScrollElement, this.init() } var e, n, r; return e = t, r = [{ key: "getRtlHelpers", value: function () { var e = document.createElement("div"); e.innerHTML = '<div class="hs-dummy-scrollbar-size"><div style="height: 200%; width: 200%; margin: 10px 0;"></div></div>'; var n = e.firstElementChild; document.body.appendChild(n); var r = n.firstElementChild; n.scrollLeft = 0; var i = t.getOffset(n), o = t.getOffset(r); n.scrollLeft = 999; var s = t.getOffset(r); return { isRtlScrollingInverted: i.left !== o.left && o.left - s.left != 0, isRtlScrollbarInverted: i.left !== o.left } } }, { key: "initHtmlApi", value: function () { this.initDOMLoadedElements = this.initDOMLoadedElements.bind(this), "undefined" != typeof MutationObserver && (this.globalObserver = new MutationObserver(function (e) { e.forEach(function (e) { Array.from(e.addedNodes).forEach(function (e) { 1 === e.nodeType && (e.hasAttribute("data-simplebar") ? !e.SimpleBar && new t(e, t.getElOptions(e)) : Array.from(e.querySelectorAll("[data-simplebar]")).forEach(function (e) { !e.SimpleBar && new t(e, t.getElOptions(e)) })) }), Array.from(e.removedNodes).forEach(function (t) { 1 === t.nodeType && (t.hasAttribute("data-simplebar") ? t.SimpleBar && t.SimpleBar.unMount() : Array.from(t.querySelectorAll("[data-simplebar]")).forEach(function (t) { t.SimpleBar && t.SimpleBar.unMount() })) }) }) }), this.globalObserver.observe(document, { childList: !0, subtree: !0 })), "complete" === document.readyState || "loading" !== document.readyState && !document.documentElement.doScroll ? window.setTimeout(this.initDOMLoadedElements) : (document.addEventListener("DOMContentLoaded", this.initDOMLoadedElements), window.addEventListener("load", this.initDOMLoadedElements)) } }, { key: "getElOptions", value: function (t) { return Array.from(t.attributes).reduce(function (t, e) { var n = e.name.match(/data-simplebar-(.+)/); if (n) { var r = n[1].replace(/\W+(.)/g, function (t, e) { return e.toUpperCase() }); switch (e.value) { case "true": t[r] = !0; break; case "false": t[r] = !1; break; case void 0: t[r] = !0; break; default: t[r] = e.value } } return t }, {}) } }, { key: "removeObserver", value: function () { this.globalObserver.disconnect() } }, { key: "initDOMLoadedElements", value: function () { document.removeEventListener("DOMContentLoaded", this.initDOMLoadedElements), window.removeEventListener("load", this.initDOMLoadedElements), Array.from(document.querySelectorAll("[data-simplebar]")).forEach(function (e) { e.SimpleBar || new t(e, t.getElOptions(e)) }) } }, { key: "getOffset", value: function (t) { var e = t.getBoundingClientRect(); return { top: e.top + (window.pageYOffset || document.documentElement.scrollTop), left: e.left + (window.pageXOffset || document.documentElement.scrollLeft) } } }], (n = [{ key: "init", value: function () { this.el.SimpleBar = this, se.a && (this.initDOM(), this.scrollbarWidth = Qt()(), this.recalculate(), this.initListeners()) } }, { key: "initDOM", value: function () { var t = this; if (Array.from(this.el.children).filter(function (e) { return e.classList.contains(t.classNames.wrapper) }).length) this.wrapperEl = this.el.querySelector(".".concat(this.classNames.wrapper)), this.contentEl = this.el.querySelector(".".concat(this.classNames.content)), this.offsetEl = this.el.querySelector(".".concat(this.classNames.offset)), this.maskEl = this.el.querySelector(".".concat(this.classNames.mask)), this.placeholderEl = this.el.querySelector(".".concat(this.classNames.placeholder)), this.heightAutoObserverWrapperEl = this.el.querySelector(".".concat(this.classNames.heightAutoObserverWrapperEl)), this.heightAutoObserverEl = this.el.querySelector(".".concat(this.classNames.heightAutoObserverEl)), this.axis.x.track.el = this.el.querySelector(".".concat(this.classNames.track, ".").concat(this.classNames.horizontal)), this.axis.y.track.el = this.el.querySelector(".".concat(this.classNames.track, ".").concat(this.classNames.vertical)); else { for (this.wrapperEl = document.createElement("div"), this.contentEl = document.createElement("div"), this.offsetEl = document.createElement("div"), this.maskEl = document.createElement("div"), this.placeholderEl = document.createElement("div"), this.heightAutoObserverWrapperEl = document.createElement("div"), this.heightAutoObserverEl = document.createElement("div"), this.wrapperEl.classList.add(this.classNames.wrapper), this.contentEl.classList.add(this.classNames.content), this.offsetEl.classList.add(this.classNames.offset), this.maskEl.classList.add(this.classNames.mask), this.placeholderEl.classList.add(this.classNames.placeholder), this.heightAutoObserverWrapperEl.classList.add(this.classNames.heightAutoObserverWrapperEl), this.heightAutoObserverEl.classList.add(this.classNames.heightAutoObserverEl); this.el.firstChild;)this.contentEl.appendChild(this.el.firstChild); this.offsetEl.appendChild(this.contentEl), this.maskEl.appendChild(this.offsetEl), this.heightAutoObserverWrapperEl.appendChild(this.heightAutoObserverEl), this.wrapperEl.appendChild(this.heightAutoObserverWrapperEl), this.wrapperEl.appendChild(this.maskEl), this.wrapperEl.appendChild(this.placeholderEl), this.el.appendChild(this.wrapperEl) } if (!this.axis.x.track.el || !this.axis.y.track.el) { var e = document.createElement("div"), n = document.createElement("div"); e.classList.add(this.classNames.track), n.classList.add(this.classNames.scrollbar), this.options.autoHide || n.classList.add(this.classNames.visible), e.appendChild(n), this.axis.x.track.el = e.cloneNode(!0), this.axis.x.track.el.classList.add(this.classNames.horizontal), this.axis.y.track.el = e.cloneNode(!0), this.axis.y.track.el.classList.add(this.classNames.vertical), this.el.appendChild(this.axis.x.track.el), this.el.appendChild(this.axis.y.track.el) } this.axis.x.scrollbar.el = this.axis.x.track.el.querySelector(".".concat(this.classNames.scrollbar)), this.axis.y.scrollbar.el = this.axis.y.track.el.querySelector(".".concat(this.classNames.scrollbar)), this.el.setAttribute("data-simplebar", "init") } }, { key: "initListeners", value: function () { var t = this; this.options.autoHide && this.el.addEventListener("mouseenter", this.onMouseEnter), ["mousedown", "click", "dblclick", "touchstart", "touchend", "touchmove"].forEach(function (e) { t.el.addEventListener(e, t.onPointerEvent, !0) }), this.el.addEventListener("mousemove", this.onMouseMove), this.el.addEventListener("mouseleave", this.onMouseLeave), this.contentEl.addEventListener("scroll", this.onScroll), window.addEventListener("resize", this.onWindowResize), "undefined" != typeof MutationObserver && (this.mutationObserver = new MutationObserver(function (e) { e.forEach(function (e) { (e.target === t.el || !t.isChildNode(e.target) || e.addedNodes.length || e.removedNodes.length) && t.recalculate() }) }), this.mutationObserver.observe(this.el, { attributes: !0, childList: !0, characterData: !0, subtree: !0 })), this.resizeObserver = new ie.a(this.recalculate), this.resizeObserver.observe(this.el) } }, { key: "recalculate", value: function () { var t = this.heightAutoObserverEl.offsetHeight <= 1; this.elStyles = window.getComputedStyle(this.el), this.isRtl = "rtl" === this.elStyles.direction, this.contentEl.style.padding = "".concat(this.elStyles.paddingTop, " ").concat(this.elStyles.paddingRight, " ").concat(this.elStyles.paddingBottom, " ").concat(this.elStyles.paddingLeft), this.contentEl.style.height = t ? "auto" : "100%", this.placeholderEl.style.width = "".concat(this.contentEl.scrollWidth, "px"), this.placeholderEl.style.height = "".concat(this.contentEl.scrollHeight, "px"), this.wrapperEl.style.margin = "-".concat(this.elStyles.paddingTop, " -").concat(this.elStyles.paddingRight, " -").concat(this.elStyles.paddingBottom, " -").concat(this.elStyles.paddingLeft), this.axis.x.track.rect = this.axis.x.track.el.getBoundingClientRect(), this.axis.y.track.rect = this.axis.y.track.el.getBoundingClientRect(), this.axis.x.isOverflowing = (this.scrollbarWidth ? this.contentEl.scrollWidth : this.contentEl.scrollWidth - this.minScrollbarWidth) > Math.ceil(this.axis.x.track.rect.width), this.axis.y.isOverflowing = (this.scrollbarWidth ? this.contentEl.scrollHeight : this.contentEl.scrollHeight - this.minScrollbarWidth) > Math.ceil(this.axis.y.track.rect.height), this.axis.x.isOverflowing = "hidden" !== this.elStyles.overflowX && this.axis.x.isOverflowing, this.axis.y.isOverflowing = "hidden" !== this.elStyles.overflowY && this.axis.y.isOverflowing, this.axis.x.forceVisible = "x" === this.options.forceVisible || !0 === this.options.forceVisible, this.axis.y.forceVisible = "y" === this.options.forceVisible || !0 === this.options.forceVisible, this.axis.x.scrollbar.size = this.getScrollbarSize("x"), this.axis.y.scrollbar.size = this.getScrollbarSize("y"), this.axis.x.scrollbar.el.style.width = "".concat(this.axis.x.scrollbar.size, "px"), this.axis.y.scrollbar.el.style.height = "".concat(this.axis.y.scrollbar.size, "px"), this.positionScrollbar("x"), this.positionScrollbar("y"), this.toggleTrackVisibility("x"), this.toggleTrackVisibility("y"), this.hideNativeScrollbar() } }, { key: "getScrollbarSize", value: function () { var t, e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y", n = this.scrollbarWidth ? this.contentEl[this.axis[e].scrollSizeAttr] : this.contentEl[this.axis[e].scrollSizeAttr] - this.minScrollbarWidth, r = this.axis[e].track.rect[this.axis[e].sizeAttr]; if (this.axis[e].isOverflowing) { var i = r / n; return t = Math.max(~~(i * r), this.options.scrollbarMinSize), this.options.scrollbarMaxSize && (t = Math.min(t, this.options.scrollbarMaxSize)), t } } }, { key: "positionScrollbar", value: function () { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y", n = this.contentEl[this.axis[e].scrollSizeAttr], r = this.axis[e].track.rect[this.axis[e].sizeAttr], i = parseInt(this.elStyles[this.axis[e].sizeAttr], 10), o = this.axis[e].scrollbar, s = this.contentEl[this.axis[e].scrollOffsetAttr], a = (s = "x" === e && this.isRtl && t.getRtlHelpers().isRtlScrollingInverted ? -s : s) / (n - i), c = ~~((r - o.size) * a); c = "x" === e && this.isRtl && t.getRtlHelpers().isRtlScrollbarInverted ? c + (r - o.size) : c, o.el.style.transform = "x" === e ? "translate3d(".concat(c, "px, 0, 0)") : "translate3d(0, ".concat(c, "px, 0)") } }, { key: "toggleTrackVisibility", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y", e = this.axis[t].track.el, n = this.axis[t].scrollbar.el; this.axis[t].isOverflowing || this.axis[t].forceVisible ? (e.style.visibility = "visible", this.contentEl.style[this.axis[t].overflowAttr] = "scroll") : (e.style.visibility = "hidden", this.contentEl.style[this.axis[t].overflowAttr] = "hidden"), this.axis[t].isOverflowing ? n.style.visibility = "visible" : n.style.visibility = "hidden" } }, { key: "hideNativeScrollbar", value: function () { if (this.offsetEl.style[this.isRtl ? "left" : "right"] = this.axis.y.isOverflowing || this.axis.y.forceVisible ? "-".concat(this.scrollbarWidth || this.minScrollbarWidth, "px") : 0, this.offsetEl.style.bottom = this.axis.x.isOverflowing || this.axis.x.forceVisible ? "-".concat(this.scrollbarWidth || this.minScrollbarWidth, "px") : 0, !this.scrollbarWidth) { var t = [this.isRtl ? "paddingLeft" : "paddingRight"]; this.contentEl.style[t] = this.axis.y.isOverflowing || this.axis.y.forceVisible ? "calc(".concat(this.elStyles[t], " + ").concat(this.minScrollbarWidth, "px)") : this.elStyles[t], this.contentEl.style.paddingBottom = this.axis.x.isOverflowing || this.axis.x.forceVisible ? "calc(".concat(this.elStyles.paddingBottom, " + ").concat(this.minScrollbarWidth, "px)") : this.elStyles.paddingBottom } } }, { key: "onMouseMoveForAxis", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y"; this.axis[t].track.rect = this.axis[t].track.el.getBoundingClientRect(), this.axis[t].scrollbar.rect = this.axis[t].scrollbar.el.getBoundingClientRect(), this.isWithinBounds(this.axis[t].scrollbar.rect) ? this.axis[t].scrollbar.el.classList.add(this.classNames.hover) : this.axis[t].scrollbar.el.classList.remove(this.classNames.hover), this.isWithinBounds(this.axis[t].track.rect) ? (this.showScrollbar(t), this.axis[t].track.el.classList.add(this.classNames.hover)) : this.axis[t].track.el.classList.remove(this.classNames.hover) } }, { key: "onMouseLeaveForAxis", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y"; this.axis[t].track.el.classList.remove(this.classNames.hover), this.axis[t].scrollbar.el.classList.remove(this.classNames.hover) } }, { key: "showScrollbar", value: function () { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "y", e = this.axis[t].scrollbar.el; this.axis[t].isVisible || (e.classList.add(this.classNames.visible), this.axis[t].isVisible = !0), this.options.autoHide && this.hideScrollbars() } }, { key: "onDragStart", value: function (t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : "y", n = this.axis[e].scrollbar.el, r = "y" === e ? t.pageY : t.pageX; this.axis[e].dragOffset = r - n.getBoundingClientRect()[this.axis[e].offsetAttr], this.draggedAxis = e, document.addEventListener("mousemove", this.drag), document.addEventListener("mouseup", this.onEndDrag) } }, { key: "getScrollElement", value: function () { return this.contentEl } }, { key: "removeListeners", value: function () { var t = this; this.options.autoHide && this.el.removeEventListener("mouseenter", this.onMouseEnter), ["mousedown", "click", "dblclick", "touchstart", "touchend", "touchmove"].forEach(function (e) { t.el.removeEventListener(e, t.onPointerEvent) }), this.el.removeEventListener("mousemove", this.onMouseMove), this.el.removeEventListener("mouseleave", this.onMouseLeave), this.contentEl.removeEventListener("scroll", this.onScroll), window.removeEventListener("resize", this.onWindowResize), this.mutationObserver && this.mutationObserver.disconnect(), this.resizeObserver.disconnect(), this.recalculate.cancel(), this.onMouseMove.cancel(), this.hideScrollbars.cancel(), this.onWindowResize.cancel() } }, { key: "unMount", value: function () { this.removeListeners(), this.el.SimpleBar = null } }, { key: "isChildNode", value: function (t) { return null !== t && (t === this.el || this.isChildNode(t.parentNode)) } }, { key: "isWithinBounds", value: function (t) { return this.mouseX >= t.left && this.mouseX <= t.left + t.width && this.mouseY >= t.top && this.mouseY <= t.top + t.height } }]) && ae(e.prototype, n), r && ae(e, r), t }(); ue.defaultOptions = { autoHide: !0, forceVisible: !1, classNames: { content: "simplebar-content", offset: "simplebar-offset", mask: "simplebar-mask", wrapper: "simplebar-wrapper", placeholder: "simplebar-placeholder", scrollbar: "simplebar-scrollbar", track: "simplebar-track", heightAutoObserverWrapperEl: "simplebar-height-auto-observer-wrapper", heightAutoObserverEl: "simplebar-height-auto-observer", visible: "simplebar-visible", horizontal: "simplebar-horizontal", vertical: "simplebar-vertical", hover: "simplebar-hover" }, scrollbarMinSize: 25, scrollbarMaxSize: 0, timeout: 1e3 }, se.a && ue.initHtmlApi(); var fe = d3.select("body"), he = 0; function de() { var t = fe.node().offsetWidth; he !== t && (he = t, _t.resize(), x.resize(), et.resize(), Ut.resize()) } fe.classed("is-mobile", s.any()), window.addEventListener("resize", i()(de, 150)), function () { if (fe.select("header").classed("is-sticky")) { var t = fe.select(".header__menu"), e = fe.select(".header__toggle"); e.on("click", function () { var n = t.classed("is-visible"); t.classed("is-visible", !n), e.classed("is-visible", !n) }) } }(), x.init(), et.init(), _t.init(), Ut.init(), Jt()({ selector: ".lockscreen", enter: function (t) { t.classList.add("entered") }, offset: .25, once: !0 }), Jt()({ selector: ".section__title-text", enter: function (t) { return t.classList.add("entered") }, offset: .1, once: !0 }) }]);